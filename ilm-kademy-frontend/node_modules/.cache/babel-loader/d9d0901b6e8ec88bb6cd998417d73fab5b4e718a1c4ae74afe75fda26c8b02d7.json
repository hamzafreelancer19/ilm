{"ast":null,"code":"var _jsxFileName = \"/home/shahzad/Desktop/Book_Project/ilm-kademy-frontend/src/pages/library/ChapterViewerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { ChevronLeftIcon, ChevronRightIcon, BookOpenIcon, CheckCircleIcon, PlayIcon, PauseIcon, SpeakerWaveIcon, SpeakerXMarkIcon, DocumentTextIcon, AcademicCapIcon, LightBulbIcon } from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { API_ENDPOINTS } from '../../config/api';\nimport ChapterSections from '../../components/library/ChapterSections';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChapterViewerPage = () => {\n  _s();\n  var _chapter$sections, _chapter$sections2, _chapter$sections3;\n  const {\n    bookId,\n    chapterId\n  } = useParams();\n  const navigate = useNavigate();\n  const [book, setBook] = useState(null);\n  const [chapter, setChapter] = useState(null);\n  const [chapters, setChapters] = useState([]);\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [showNotes, setShowNotes] = useState(false);\n  const [userNotes, setUserNotes] = useState('');\n  const [completedSections, setCompletedSections] = useState([]);\n  useEffect(() => {\n    fetchBookAndChapter();\n  }, [bookId, chapterId]);\n  const fetchBookAndChapter = async () => {\n    try {\n      // Get auth token from localStorage\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      if (tokens.access) {\n        headers['Authorization'] = `Bearer ${tokens.access}`;\n      }\n      const [bookResponse, chapterResponse, chaptersResponse] = await Promise.all([fetch(`${API_ENDPOINTS.BOOKS}${bookId}/`, {\n        headers\n      }), fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/${chapterId}/`, {\n        headers\n      }), fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/`, {\n        headers\n      })]);\n      if (bookResponse.ok) {\n        const bookData = await bookResponse.json();\n        setBook(bookData);\n      } else if (bookResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock book data due to authentication required');\n\n        // Dynamic mock book data based on book ID\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n      if (chapterResponse.ok) {\n        const chapterData = await chapterResponse.json();\n        setChapter(chapterData);\n\n        // If this is an English book, fetch the detailed sections\n        if (chapterData.book_title && chapterData.sections) {\n          // Set completed sections from reading progress if available\n          if (chapterData.reading_progress) {\n            setCompletedSections(chapterData.reading_progress.completed_sections || []);\n          }\n        }\n      } else if (chapterResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapter data due to authentication required');\n\n        // Dynamic mock chapter data based on book ID and chapter ID\n        const mockChapterData = {\n          1: {\n            // Book ID 1 - English Grammar Fundamentals\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to Grammar',\n                content: {\n                  text: 'Welcome to Basic Grammar Concepts. This chapter will introduce you to the fundamental building blocks of English grammar that form the foundation of effective communication.',\n                  overview: 'Learn the essential grammar concepts that form the foundation of English language, including parts of speech, sentence structure, and basic rules.',\n                  key_concepts: ['Parts of speech', 'Sentence structure', 'Basic grammar rules', 'Common patterns', 'Language fundamentals']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding the eight parts of speech and their functions', 'Learning how sentences are structured with subjects and predicates', 'Mastering basic grammar rules for clear communication', 'Building a strong vocabulary foundation', 'Practicing correct sentence formation'],\n                  main_ideas: ['Grammar fundamentals', 'Language structure', 'Basic patterns', 'Communication skills']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Identify and classify different parts of speech correctly', 'Understand and apply basic sentence structure rules', 'Apply grammar rules correctly in writing and speaking', 'Build confidence in using English grammar', 'Recognize common grammar patterns in everyday language'],\n                  outcomes: ['Knowledge of grammar fundamentals', 'Improved writing skills', 'Better communication abilities', 'Enhanced language confidence']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What do you already know about English grammar?', 'How do you think grammar helps in clear communication?', 'What grammar concepts do you find most challenging?', 'How often do you think about grammar when speaking or writing?', 'What would you like to improve in your grammar skills?'],\n                  purpose: 'These questions help prepare your mind for learning grammar concepts and assess your current knowledge level.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'grammar': 'The rules and structure of a language that govern how words are used',\n                    'sentence': 'A group of words that express a complete thought with a subject and predicate',\n                    'structure': 'The way something is organized or arranged in a systematic manner',\n                    'communication': 'The process of sharing information, ideas, or feelings between people',\n                    'foundation': 'The base or fundamental principles on which something is built'\n                  },\n                  text: 'This section covers essential grammar concepts with practical examples and clear explanations. We will explore how words work together to create meaningful sentences and how understanding grammar can improve your communication skills.',\n                  translation: 'Key terms will be explained in simple language for better understanding, with examples in both formal and informal contexts.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'grammar': 'The system of rules that govern how words are used in a language to form meaningful sentences',\n                    'sentence': 'A grammatical unit that contains a subject and predicate, expressing a complete thought',\n                    'structure': 'The arrangement of and relations between the parts of something complex',\n                    'communication': 'The exchange of information, ideas, or feelings between individuals or groups',\n                    'foundation': 'The underlying basis or principle for something; the groundwork'\n                  },\n                  definitions: {\n                    'grammar': 'The study of how words and their component parts combine to form sentences',\n                    'sentence': 'A group of words that expresses a statement, question, command, or exclamation',\n                    'structure': 'The way in which parts are arranged or put together to form a whole',\n                    'communication': 'The act or process of using words, sounds, signs, or behaviors to express or exchange information',\n                    'foundation': 'A basis upon which something stands or is supported'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the eight main parts of speech in English?', 'How does sentence structure work in English?', 'Why is grammar important for effective communication?', 'What is the difference between a subject and a predicate?', 'How can understanding grammar improve your writing?'],\n                  answers: {\n                    'What are the eight main parts of speech in English?': 'Nouns, verbs, adjectives, adverbs, pronouns, prepositions, conjunctions, and interjections',\n                    'How does sentence structure work in English?': 'A sentence typically has a subject (who or what) and a predicate (what happens or what is said about the subject)',\n                    'Why is grammar important for effective communication?': 'Grammar helps us organize our thoughts clearly, avoid misunderstandings, and express ourselves precisely',\n                    'What is the difference between a subject and a predicate?': 'The subject is the person, place, thing, or idea that the sentence is about, while the predicate tells what the subject does or is',\n                    'How can understanding grammar improve your writing?': 'Understanding grammar helps you write clearer sentences, avoid common errors, and create more professional and readable content'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which of the following is NOT a part of speech?',\n                    options: ['Noun', 'Verb', 'Sentence', 'Adjective'],\n                    correct_answer: 'Sentence'\n                  }, {\n                    question: 'True or False: Grammar is not important for communication.',\n                    options: ['True', 'False'],\n                    correct_answer: 'False'\n                  }, {\n                    question: 'What is the subject in the sentence \"The cat sleeps peacefully\"?',\n                    options: ['The cat', 'sleeps', 'peacefully', 'sleeps peacefully'],\n                    correct_answer: 'The cat'\n                  }, {\n                    question: 'Which word is an adjective in \"The beautiful red car\"?',\n                    options: ['The', 'beautiful', 'red', 'car'],\n                    correct_answer: 'beautiful'\n                  }],\n                  options: {},\n                  correct_answers: {}\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match words with their definitions', 'Fill in the blanks with correct words', 'Identify parts of speech in sentences', 'Create sentences using specific vocabulary words', 'Find synonyms and antonyms for given words'],\n                  grammar_exercises: ['Correct grammar errors in sentences', 'Complete sentences with appropriate words', 'Identify sentence structure patterns', 'Transform sentences from one form to another', 'Practice subject-verb agreement']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Practice pronunciation of grammar terms', 'Discuss grammar concepts with classmates', 'Explain grammar rules to others in your own words', 'Role-play conversations using correct grammar', 'Present grammar concepts to the class'],\n                  discussion_topics: ['How does grammar help in speaking clearly?', 'What grammar mistakes do you commonly make?', 'How can we improve our grammar in daily conversations?', 'What is the relationship between grammar and confidence in speaking?', 'How does grammar vary between formal and informal speech?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write about your experience learning grammar', 'Create sentences using different parts of speech', 'Explain a grammar rule in your own words', 'Write a short paragraph about why grammar matters', 'Describe how grammar affects your daily communication'],\n                  writing_tasks: ['Grammar practice exercises with corrections', 'Sentence construction practice', 'Grammar rule explanations in writing', 'Paragraph writing with focus on grammar', 'Error identification and correction exercises']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get the hang of': 'To learn how to do something after practicing',\n                    'piece of cake': 'Something very easy to do',\n                    'hit the books': 'To study hard and seriously',\n                    'break the ice': 'To start a conversation in a social situation',\n                    'pull yourself together': 'To calm down and control your emotions'\n                  },\n                  phrasal_verbs: {\n                    'look up': 'To search for information in a book or online',\n                    'figure out': 'To understand or solve something',\n                    'catch on': 'To understand or learn something',\n                    'come up with': 'To think of or create an idea',\n                    'get along with': 'To have a good relationship with someone'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the main purpose of this chapter?',\n                    type: 'multiple_choice',\n                    options: ['To memorize vocabulary', 'To understand grammar basics', 'To pass an exam', 'To complete homework'],\n                    correct_answer: 'To understand grammar basics',\n                    marks: 10\n                  }, {\n                    question: 'Explain how grammar helps in communication.',\n                    type: 'short_answer',\n                    marks: 15\n                  }, {\n                    question: 'Identify the parts of speech in the sentence: \"The quick brown fox jumps over the lazy dog.\"',\n                    type: 'identification',\n                    marks: 20\n                  }, {\n                    question: 'What are the three main components of a sentence?',\n                    type: 'multiple_choice',\n                    options: ['Subject, verb, object', 'Subject, predicate, punctuation', 'Noun, verb, adjective', 'Beginning, middle, end'],\n                    correct_answer: 'Subject, verb, object',\n                    marks: 10\n                  }, {\n                    question: 'Write three sentences demonstrating different sentence structures.',\n                    type: 'writing',\n                    marks: 25\n                  }],\n                  time_limit: '45 minutes',\n                  total_marks: 80\n                }\n              }]\n            }\n          },\n          2: {\n            // Book ID 2 - Advanced English Composition\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to Essay Writing',\n                content: {\n                  text: 'Welcome to Essay Writing Fundamentals. This chapter will teach you how to write clear, organized, and compelling essays that effectively communicate your ideas.',\n                  overview: 'Learn the essential elements of essay writing including structure, organization, thesis statements, and supporting evidence.',\n                  key_concepts: ['Essay structure', 'Thesis statements', 'Organization', 'Clear writing', 'Logical flow', 'Supporting evidence']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding the basic essay structure with introduction, body, and conclusion', 'Learning how to write strong thesis statements that guide your essay', 'Organizing ideas logically with clear topic sentences and transitions', 'Supporting arguments with relevant evidence and examples', 'Writing clear, concise, and engaging prose'],\n                  main_ideas: ['Essay structure', 'Writing organization', 'Argument development', 'Clear communication']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Understand and apply the basic essay structure', 'Write clear and focused thesis statements', 'Organize ideas logically with proper transitions', 'Support arguments with relevant evidence', 'Write clear, concise, and engaging essays'],\n                  outcomes: ['Essay writing skills', 'Critical thinking', 'Clear communication', 'Academic writing proficiency']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What makes a good essay in your opinion?', 'How do you currently organize your writing?', 'What challenges do you face when writing essays?', 'How important is structure in writing?', 'What would you like to improve in your essay writing?'],\n                  purpose: 'These questions help you reflect on your current writing skills and prepare for learning essay writing techniques.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'thesis': 'The main argument or claim of an essay',\n                    'structure': 'The organization and arrangement of ideas in writing',\n                    'transition': 'Words or phrases that connect ideas and paragraphs',\n                    'evidence': 'Facts, examples, or information that support an argument',\n                    'coherence': 'The quality of being logical and consistent'\n                  },\n                  text: 'This section covers essential essay writing concepts with practical examples and clear explanations. We will explore how to organize ideas effectively and create compelling arguments.',\n                  translation: 'Key terms will be explained in simple language with examples to help you understand how to apply these concepts in your writing.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'thesis': 'A statement or theory that is put forward as a premise to be maintained or proved',\n                    'structure': 'The arrangement of and relations between the parts of something complex',\n                    'transition': 'A word, phrase, or sentence that connects one topic or idea to another',\n                    'evidence': 'The available body of facts or information indicating whether a belief or proposition is true',\n                    'coherence': 'The quality of forming a unified whole'\n                  },\n                  definitions: {\n                    'thesis': 'The central argument or main point that an essay aims to prove or support',\n                    'structure': 'The way in which parts are arranged or organized to form a complete whole',\n                    'transition': 'A connecting word or phrase that helps readers move smoothly from one idea to another',\n                    'evidence': 'Supporting material that validates or substantiates a claim or argument',\n                    'coherence': 'The logical connection and consistency between ideas in a piece of writing'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the three main parts of an essay?', 'Why is a thesis statement important?', 'How do transitions improve essay flow?', 'What makes evidence effective in an essay?', 'How can you ensure your essay is coherent?'],\n                  answers: {\n                    'What are the three main parts of an essay?': 'Introduction, body paragraphs, and conclusion',\n                    'Why is a thesis statement important?': 'It provides focus, guides the reader, and helps organize your ideas',\n                    'How do transitions improve essay flow?': 'They create smooth connections between ideas and help readers follow your logic',\n                    'What makes evidence effective in an essay?': 'Relevance, reliability, and proper integration with your argument',\n                    'How can you ensure your essay is coherent?': 'Use clear organization, logical flow, and consistent focus on your thesis'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which part of an essay contains the thesis statement?',\n                    options: ['Body', 'Conclusion', 'Introduction', 'All of the above'],\n                    correct_answer: 'Introduction'\n                  }, {\n                    question: 'True or False: Transitions are only needed between paragraphs.',\n                    options: ['True', 'False'],\n                    correct_answer: 'False'\n                  }, {\n                    question: 'What is the purpose of topic sentences?',\n                    options: ['To end paragraphs', 'To introduce main ideas', 'To provide evidence', 'To conclude arguments'],\n                    correct_answer: 'To introduce main ideas'\n                  }],\n                  options: {},\n                  correct_answers: {}\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match essay writing terms with definitions', 'Identify transition words in sample texts', 'Practice using academic vocabulary', 'Learn synonyms for common essay words', 'Build vocabulary for different essay types'],\n                  grammar_exercises: ['Practice complex sentence structures', 'Work on subject-verb agreement in essays', 'Improve sentence variety and flow', 'Practice using active and passive voice', 'Work on punctuation in academic writing']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Present your essay outline to classmates', 'Discuss essay topics in small groups', 'Practice explaining your thesis statement', 'Role-play peer review sessions', 'Present essay conclusions to the class'],\n                  discussion_topics: ['How does speaking about your essay help improve it?', 'What makes a good essay presentation?', 'How can peer feedback improve writing?', 'What are common essay writing challenges?', 'How does oral communication relate to written communication?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write a thesis statement for a topic of your choice', 'Create an outline for a five-paragraph essay', 'Write a transition paragraph between two ideas', 'Draft an introduction paragraph with a hook', 'Write a conclusion that summarizes and reflects'],\n                  writing_tasks: ['Essay outline creation', 'Thesis statement writing', 'Paragraph development practice', 'Transition writing exercises', 'Essay revision and editing']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get to the point': 'To speak directly about the main issue',\n                    'in a nutshell': 'To summarize something briefly',\n                    'hit the nail on the head': 'To describe exactly what is causing a situation',\n                    'put pen to paper': 'To start writing',\n                    'read between the lines': 'To understand the hidden meaning'\n                  },\n                  phrasal_verbs: {\n                    'come up with': 'To think of or create an idea',\n                    'get across': 'To make something understood',\n                    'lay out': 'To explain or present something clearly',\n                    'sum up': 'To give a brief summary',\n                    'work out': 'To solve or figure out something'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the purpose of an essay introduction?',\n                    type: 'multiple_choice',\n                    options: ['To list all your points', 'To introduce your topic and thesis', 'To provide all evidence', 'To conclude your argument'],\n                    correct_answer: 'To introduce your topic and thesis',\n                    marks: 10\n                  }, {\n                    question: 'Explain the importance of transitions in essay writing.',\n                    type: 'short_answer',\n                    marks: 15\n                  }, {\n                    question: 'Create a thesis statement for an essay about the benefits of exercise.',\n                    type: 'writing',\n                    marks: 20\n                  }, {\n                    question: 'What are the key elements of a strong conclusion?',\n                    type: 'multiple_choice',\n                    options: ['Summary, restatement, reflection', 'New evidence, summary, hook', 'Introduction, body, conclusion', 'Thesis, evidence, conclusion'],\n                    correct_answer: 'Summary, restatement, reflection',\n                    marks: 10\n                  }],\n                  time_limit: '60 minutes',\n                  total_marks: 55\n                }\n              }]\n            }\n          },\n          11: {\n            // Book ID 11 - Master English: Complete Language Course\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to English Fundamentals',\n                content: {\n                  text: 'Welcome to English Fundamentals: Building Strong Foundations. This comprehensive chapter covers all essential aspects of English language learning to help you become a confident English speaker and writer.',\n                  overview: 'Build a strong foundation in English with comprehensive coverage of grammar, vocabulary, communication skills, and practical application.',\n                  key_concepts: ['Grammar fundamentals', 'Vocabulary building', 'Communication skills', 'Practical application', 'Language confidence', 'Cultural understanding']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding fundamental English grammar concepts and rules', 'Building a comprehensive vocabulary for various situations', 'Developing effective communication skills for different contexts', 'Learning practical language applications in real-world scenarios', 'Building confidence in using English in various settings'],\n                  main_ideas: ['Grammar mastery', 'Vocabulary expansion', 'Communication skills', 'Practical application', 'Confidence building']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Master fundamental English grammar concepts and apply them correctly', 'Build a comprehensive vocabulary for various communication contexts', 'Develop effective speaking and listening skills in English', 'Improve writing abilities with proper grammar and structure', 'Gain confidence in using English in academic and social settings'],\n                  outcomes: ['Grammar proficiency', 'Vocabulary mastery', 'Communication competence', 'Writing skills', 'Language confidence']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What are your current strengths and weaknesses in English?', 'How do you plan to use English in your future?', 'What specific areas of English do you want to improve?', 'How confident are you in speaking English with others?', 'What motivates you to learn English?'],\n                  purpose: 'These questions help you assess your current English level and set clear learning goals for this comprehensive course.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'fundamental': 'Basic and essential; forming a foundation',\n                    'comprehensive': 'Complete and thorough; covering all aspects',\n                    'proficiency': 'A high degree of skill or expertise in something',\n                    'competence': 'The ability to do something successfully or efficiently',\n                    'foundation': 'The basis or groundwork of anything'\n                  },\n                  text: 'This comprehensive section covers essential English language concepts with practical examples and clear explanations. We will explore how to build a strong foundation in English for effective communication.',\n                  translation: 'Key concepts will be explained in simple terms with examples to help you understand and apply English language principles effectively.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'fundamental': 'Relating to the foundation or basis; essential and important',\n                    'comprehensive': 'Including all or nearly all elements or aspects; thorough',\n                    'proficiency': 'The state of being proficient; advanced skill or knowledge',\n                    'competence': 'The quality or state of being competent; adequate ability',\n                    'foundation': 'The basis or groundwork upon which something stands or is built'\n                  },\n                  definitions: {\n                    'fundamental': 'Relating to the foundation or basis; essential and important',\n                    'comprehensive': 'Including all or nearly all elements or aspects; thorough',\n                    'proficiency': 'The state of being proficient; advanced skill or knowledge',\n                    'competence': 'The quality or state of being competent; adequate ability',\n                    'foundation': 'The basis or groundwork upon which something stands or is built'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the three main components of effective communication?', 'How does building vocabulary improve language skills?', 'Why is grammar important for clear communication?', 'What role does confidence play in language learning?', 'How can you apply English skills in real-world situations?'],\n                  answers: {\n                    'What are the three main components of effective communication?': 'Speaking, listening, and understanding context',\n                    'How does building vocabulary improve language skills?': 'It allows for more precise expression and better comprehension',\n                    'Why is grammar important for clear communication?': 'It provides structure and rules that make communication clear and understandable',\n                    'What role does confidence play in language learning?': 'Confidence encourages practice and reduces fear of making mistakes',\n                    'How can you apply English skills in real-world situations?': 'Through practice in conversations, writing, reading, and listening in various contexts'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which of the following is most important for language learning?',\n                    options: ['Memorizing rules', 'Regular practice', 'Perfect pronunciation', 'Advanced vocabulary'],\n                    correct_answer: 'Regular practice'\n                  }, {\n                    question: 'True or False: Confidence is not important for learning English.',\n                    options: ['True', 'False'],\n                    correct_answer: 'False'\n                  }, {\n                    question: 'What is the best way to improve vocabulary?',\n                    options: ['Reading only', 'Speaking only', 'Combined approach', 'Writing only'],\n                    correct_answer: 'Combined approach'\n                  }],\n                  options: {},\n                  correct_answers: {}\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match words with their definitions', 'Create sentences using new vocabulary', 'Practice word families and related forms', 'Learn synonyms and antonyms', 'Build context-specific vocabulary'],\n                  grammar_exercises: ['Practice basic sentence structures', 'Work on verb tenses and forms', 'Improve subject-verb agreement', 'Practice using articles correctly', 'Work on sentence variety and complexity']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Practice pronunciation of new vocabulary', 'Engage in guided conversations', 'Practice giving short presentations', 'Role-play different social situations', 'Practice asking and answering questions'],\n                  discussion_topics: ['How do you prefer to learn new languages?', 'What challenges do you face in English communication?', 'How can technology help in language learning?', 'What cultural aspects are important in language learning?', 'How do you stay motivated in long-term learning?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write about your language learning journey', 'Describe your ideal English learning environment', 'Write a short paragraph about your goals', 'Create a dialogue between two language learners', 'Write about a cultural experience related to language'],\n                  writing_tasks: ['Journal writing practice', 'Short paragraph composition', 'Dialogue creation exercises', 'Goal-setting writing', 'Reflection writing tasks']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get the hang of': 'To learn how to do something after practicing',\n                    'piece of cake': 'Something very easy to do',\n                    'hit the books': 'To study hard and seriously',\n                    'break the ice': 'To start a conversation in a social situation',\n                    'pull yourself together': 'To calm down and control your emotions'\n                  },\n                  phrasal_verbs: {\n                    'look up': 'To search for information in a book or online',\n                    'figure out': 'To understand or solve something',\n                    'catch on': 'To understand or learn something',\n                    'come up with': 'To think of or create an idea',\n                    'get along with': 'To have a good relationship with someone'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the main goal of this comprehensive English course?',\n                    type: 'multiple_choice',\n                    options: ['To pass exams', 'To build strong language foundations', 'To memorize vocabulary', 'To learn only grammar'],\n                    correct_answer: 'To build strong language foundations',\n                    marks: 15\n                  }, {\n                    question: 'Explain how confidence affects language learning.',\n                    type: 'short_answer',\n                    marks: 20\n                  }, {\n                    question: 'What are the key components of effective language learning?',\n                    type: 'multiple_choice',\n                    options: ['Grammar only', 'Vocabulary only', 'Integrated approach', 'Memorization only'],\n                    correct_answer: 'Integrated approach',\n                    marks: 10\n                  }, {\n                    question: 'How can you apply what you learn in real-world situations?',\n                    type: 'short_answer',\n                    marks: 20\n                  }],\n                  time_limit: '90 minutes',\n                  total_marks: 65\n                }\n              }]\n            }\n          }\n        };\n\n        // Get the appropriate chapter data based on book ID and chapter ID\n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        setChapter(chapterData);\n      } else if (chaptersResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapters data due to authentication required');\n\n        // Dynamic mock chapters data based on book ID\n        const mockChaptersData = {\n          1: [\n          // English Grammar Fundamentals\n          {\n            id: 1,\n            title: 'Basic Grammar Concepts',\n            description: 'Introduction to parts of speech and sentence structure',\n            duration: '4 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 2,\n            title: 'Essential Vocabulary Building',\n            description: 'Building a strong foundation of English vocabulary',\n            duration: '3 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }],\n          2: [\n          // Advanced English Composition\n          {\n            id: 1,\n            title: 'Essay Writing Fundamentals',\n            description: 'Learn the basics of essay structure and organization',\n            duration: '5 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 2,\n            title: 'Advanced Writing Techniques',\n            description: 'Master sophisticated writing styles and techniques',\n            duration: '6 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }],\n          11: [\n          // Master English: Complete Language Course\n          {\n            id: 1,\n            title: 'English Fundamentals: Building Strong Foundations',\n            description: 'Master the basics of English grammar and vocabulary',\n            duration: '6 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 2,\n            title: 'Effective Communication: Speaking with Confidence',\n            description: 'Develop your speaking and listening skills',\n            duration: '8 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 3,\n            title: 'Advanced Writing: Expressing Ideas Clearly',\n            description: 'Learn to write clearly and persuasively',\n            duration: '10 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }]\n        };\n\n        // Use the appropriate chapters data based on book ID, or default to first book\n        const chaptersData = mockChaptersData[parseInt(bookId)] || mockChaptersData[1];\n        setChapters(chaptersData);\n      }\n\n      // Mock data for development if no data was loaded\n      if (!book) {\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n      if (!chapter) {\n        const mockChapterData = {\n          1: {\n            // Book ID 1\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: []\n            }\n          },\n          2: {\n            // Book ID 2\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: []\n            }\n          },\n          11: {\n            // Book ID 11\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: []\n            }\n          }\n        };\n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        setChapter(chapterData);\n      }\n      if (chapters.length === 0) {\n        setChapters([{\n          id: 1,\n          title: 'Introduction to Advanced Calculus'\n        }, {\n          id: 2,\n          title: 'Limits and Continuity'\n        }, {\n          id: 3,\n          title: 'Differentiation Techniques'\n        }, {\n          id: 4,\n          title: 'Integration Methods'\n        }]);\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Failed to load chapter content');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const currentChapterIndex = chapters.findIndex(ch => ch.id === parseInt(chapterId));\n  const hasPreviousChapter = currentChapterIndex > 0;\n  const hasNextChapter = currentChapterIndex < chapters.length - 1;\n  const navigateToChapter = direction => {\n    if (direction === 'prev' && hasPreviousChapter) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      navigate(`/app/library/${bookId}/chapter/${prevChapter.id}`);\n    } else if (direction === 'next' && hasNextChapter) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      navigate(`/app/library/${bookId}/chapter/${nextChapter.id}`);\n    }\n  };\n  const handleSectionComplete = (sectionId, sectionIndex) => {\n    // Add section to completed sections\n    if (!completedSections.includes(sectionId)) {\n      setCompletedSections(prev => [...prev, sectionId]);\n\n      // Progress is now calculated dynamically from completedSections\n\n      // Auto-expand next section if available\n      if (sectionIndex < chapter.sections.length - 1) {\n        setCurrentSection(sectionIndex + 1);\n      }\n      toast.success('Section completed!');\n    }\n  };\n  const toggleAudio = () => {\n    setIsPlaying(!isPlaying);\n    // TODO: Implement actual audio playback\n    toast.success(isPlaying ? 'Audio paused' : 'Audio playing');\n  };\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n    // TODO: Implement actual mute functionality\n    toast.success(isMuted ? 'Audio unmuted' : 'Audio muted');\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading chapter...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1133,\n      columnNumber: 7\n    }, this);\n  }\n  if (!chapter || !book) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"Chapter not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"The chapter you're looking for doesn't exist.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/app/library/${bookId}`,\n              className: \"text-indigo-600 hover:text-indigo-500 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 17\n              }, this), \"Back to Book\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: chapter.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleAudio,\n              className: \"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200\",\n              children: isPlaying ? /*#__PURE__*/_jsxDEV(PauseIcon, {\n                className: \"h-5 w-5 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1181,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(PlayIcon, {\n                className: \"h-5 w-5 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1183,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleMute,\n              className: \"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200\",\n              children: isMuted ? /*#__PURE__*/_jsxDEV(SpeakerXMarkIcon, {\n                className: \"h-5 w-5 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1191,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(SpeakerWaveIcon, {\n                className: \"h-5 w-5 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1160,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-2xl font-bold text-gray-900 mb-2\",\n                  children: chapter.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1209,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600\",\n                  children: chapter.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1212,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Progress\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1215,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-indigo-600\",\n                  children: [Math.round(completedSections.length / (((_chapter$sections = chapter.sections) === null || _chapter$sections === void 0 ? void 0 : _chapter$sections.length) || 1) * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-indigo-600 h-2 rounded-full transition-all duration-300\",\n                style: {\n                  width: `${completedSections.length / (((_chapter$sections2 = chapter.sections) === null || _chapter$sections2 === void 0 ? void 0 : _chapter$sections2.length) || 1) * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1224,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\",\n            children: /*#__PURE__*/_jsxDEV(ChapterSections, {\n              sections: chapter.sections || [],\n              onSectionComplete: handleSectionComplete,\n              completedSections: completedSections\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1233,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigateToChapter('prev'),\n              disabled: !hasPreviousChapter,\n              className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 17\n              }, this), \"Previous Chapter\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigateToChapter('next'),\n              disabled: !hasNextChapter,\n              className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [\"Next Chapter\", /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n                className: \"h-5 w-5 ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Chapter Sections\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: (_chapter$sections3 = chapter.sections) === null || _chapter$sections3 === void 0 ? void 0 : _chapter$sections3.map((section, index) => {\n                const isCompleted = completedSections.includes(section.id);\n                const isCurrent = index === currentSection;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentSection(index),\n                  className: `w-full text-left p-3 rounded-md transition-colors duration-200 ${isCurrent ? 'bg-indigo-100 text-indigo-700 border border-indigo-200' : isCompleted ? 'bg-green-50 text-green-700 border border-green-200' : 'hover:bg-gray-50 text-gray-700'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      children: section.kind ? section.kind.replace('_', ' ') : section.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1285,\n                      columnNumber: 25\n                    }, this), isCompleted && /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                      className: \"h-5 w-5 text-green-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1289,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1284,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center mt-1 text-xs text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n                      className: \"h-4 w-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1293,\n                      columnNumber: 25\n                    }, this), \"Section \", index + 1, \" of \", chapter.sections.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1292,\n                    columnNumber: 23\n                  }, this)]\n                }, section.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1273,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: \"My Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowNotes(!showNotes),\n                className: \"text-indigo-600 hover:text-indigo-500 text-sm\",\n                children: showNotes ? 'Hide' : 'Show'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1306,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1304,\n              columnNumber: 15\n            }, this), showNotes && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: userNotes,\n                onChange: e => setUserNotes(e.target.value),\n                placeholder: \"Add your notes here...\",\n                className: \"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",\n                rows: 4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1316,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mt-2 w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200\",\n                children: \"Save Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1323,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Quick Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(LightBulbIcon, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1335,\n                  columnNumber: 19\n                }, this), \"Ask AI Assistant\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1339,\n                  columnNumber: 19\n                }, this), \"Take Quiz\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1338,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1157,\n    columnNumber: 5\n  }, this);\n};\n_s(ChapterViewerPage, \"4w9DuGQGvSQxslC0n6ffIMOyJl0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ChapterViewerPage;\nexport default ChapterViewerPage;\nvar _c;\n$RefreshReg$(_c, \"ChapterViewerPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","ChevronLeftIcon","ChevronRightIcon","BookOpenIcon","CheckCircleIcon","PlayIcon","PauseIcon","SpeakerWaveIcon","SpeakerXMarkIcon","DocumentTextIcon","AcademicCapIcon","LightBulbIcon","toast","API_ENDPOINTS","ChapterSections","jsxDEV","_jsxDEV","ChapterViewerPage","_s","_chapter$sections","_chapter$sections2","_chapter$sections3","bookId","chapterId","navigate","book","setBook","chapter","setChapter","chapters","setChapters","currentSection","setCurrentSection","isLoading","setIsLoading","isPlaying","setIsPlaying","isMuted","setIsMuted","showNotes","setShowNotes","userNotes","setUserNotes","completedSections","setCompletedSections","fetchBookAndChapter","tokens","JSON","parse","localStorage","getItem","headers","access","bookResponse","chapterResponse","chaptersResponse","Promise","all","fetch","BOOKS","ok","bookData","json","status","console","log","mockBookData","id","title","author","parseInt","chapterData","book_title","sections","reading_progress","completed_sections","mockChapterData","description","kind","content","text","overview","key_concepts","points","main_ideas","objectives","outcomes","questions","purpose","vocabulary","translation","terms","definitions","answers","question","options","correct_answer","correct_answers","vocabulary_exercises","grammar_exercises","speaking_activities","discussion_topics","writing_prompts","writing_tasks","idioms","phrasal_verbs","type","marks","time_limit","total_marks","bookChapters","mockChaptersData","duration","sections_count","is_completed","progress","chaptersData","length","error","currentChapterIndex","findIndex","ch","hasPreviousChapter","hasNextChapter","navigateToChapter","direction","prevChapter","nextChapter","handleSectionComplete","sectionId","sectionIndex","includes","prev","success","toggleAudio","toggleMute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","Math","round","style","width","onSectionComplete","disabled","map","section","index","isCompleted","isCurrent","replace","value","onChange","e","target","placeholder","rows","_c","$RefreshReg$"],"sources":["/home/shahzad/Desktop/Book_Project/ilm-kademy-frontend/src/pages/library/ChapterViewerPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { \n  ChevronLeftIcon, \n  ChevronRightIcon, \n  BookOpenIcon,\n  CheckCircleIcon,\n  PlayIcon,\n  PauseIcon,\n  SpeakerWaveIcon,\n  SpeakerXMarkIcon,\n  DocumentTextIcon,\n  AcademicCapIcon,\n  LightBulbIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { API_ENDPOINTS } from '../../config/api';\nimport ChapterSections from '../../components/library/ChapterSections';\n\nconst ChapterViewerPage = () => {\n  const { bookId, chapterId } = useParams();\n  const navigate = useNavigate();\n  const [book, setBook] = useState(null);\n  const [chapter, setChapter] = useState(null);\n  const [chapters, setChapters] = useState([]);\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n\n  const [showNotes, setShowNotes] = useState(false);\n  const [userNotes, setUserNotes] = useState('');\n  const [completedSections, setCompletedSections] = useState([]);\n\n  useEffect(() => {\n    fetchBookAndChapter();\n  }, [bookId, chapterId]);\n\n  const fetchBookAndChapter = async () => {\n    try {\n      // Get auth token from localStorage\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\n      const headers = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (tokens.access) {\n        headers['Authorization'] = `Bearer ${tokens.access}`;\n      }\n\n      const [bookResponse, chapterResponse, chaptersResponse] = await Promise.all([\n        fetch(`${API_ENDPOINTS.BOOKS}${bookId}/`, { headers }),\n        fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/${chapterId}/`, { headers }),\n        fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/`, { headers })\n      ]);\n\n      if (bookResponse.ok) {\n        const bookData = await bookResponse.json();\n        setBook(bookData);\n      } else if (bookResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock book data due to authentication required');\n        \n        // Dynamic mock book data based on book ID\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        \n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n\n      if (chapterResponse.ok) {\n        const chapterData = await chapterResponse.json();\n        setChapter(chapterData);\n        \n        // If this is an English book, fetch the detailed sections\n        if (chapterData.book_title && chapterData.sections) {\n          // Set completed sections from reading progress if available\n          if (chapterData.reading_progress) {\n            setCompletedSections(chapterData.reading_progress.completed_sections || []);\n          }\n        }\n      } else if (chapterResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapter data due to authentication required');\n        \n        // Dynamic mock chapter data based on book ID and chapter ID\n        const mockChapterData = {\n          1: { // Book ID 1 - English Grammar Fundamentals\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to Grammar',\n                  content: {\n                    text: 'Welcome to Basic Grammar Concepts. This chapter will introduce you to the fundamental building blocks of English grammar that form the foundation of effective communication.',\n                    overview: 'Learn the essential grammar concepts that form the foundation of English language, including parts of speech, sentence structure, and basic rules.',\n                    key_concepts: ['Parts of speech', 'Sentence structure', 'Basic grammar rules', 'Common patterns', 'Language fundamentals']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding the eight parts of speech and their functions',\n                      'Learning how sentences are structured with subjects and predicates',\n                      'Mastering basic grammar rules for clear communication',\n                      'Building a strong vocabulary foundation',\n                      'Practicing correct sentence formation'\n                    ],\n                    main_ideas: ['Grammar fundamentals', 'Language structure', 'Basic patterns', 'Communication skills']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Identify and classify different parts of speech correctly',\n                      'Understand and apply basic sentence structure rules',\n                      'Apply grammar rules correctly in writing and speaking',\n                      'Build confidence in using English grammar',\n                      'Recognize common grammar patterns in everyday language'\n                    ],\n                    outcomes: ['Knowledge of grammar fundamentals', 'Improved writing skills', 'Better communication abilities', 'Enhanced language confidence']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What do you already know about English grammar?',\n                      'How do you think grammar helps in clear communication?',\n                      'What grammar concepts do you find most challenging?',\n                      'How often do you think about grammar when speaking or writing?',\n                      'What would you like to improve in your grammar skills?'\n                    ],\n                    purpose: 'These questions help prepare your mind for learning grammar concepts and assess your current knowledge level.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'grammar': 'The rules and structure of a language that govern how words are used',\n                      'sentence': 'A group of words that express a complete thought with a subject and predicate',\n                      'structure': 'The way something is organized or arranged in a systematic manner',\n                      'communication': 'The process of sharing information, ideas, or feelings between people',\n                      'foundation': 'The base or fundamental principles on which something is built'\n                    },\n                    text: 'This section covers essential grammar concepts with practical examples and clear explanations. We will explore how words work together to create meaningful sentences and how understanding grammar can improve your communication skills.',\n                    translation: 'Key terms will be explained in simple language for better understanding, with examples in both formal and informal contexts.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'grammar': 'The system of rules that govern how words are used in a language to form meaningful sentences',\n                      'sentence': 'A grammatical unit that contains a subject and predicate, expressing a complete thought',\n                      'structure': 'The arrangement of and relations between the parts of something complex',\n                      'communication': 'The exchange of information, ideas, or feelings between individuals or groups',\n                      'foundation': 'The underlying basis or principle for something; the groundwork'\n                    },\n                    definitions: {\n                      'grammar': 'The study of how words and their component parts combine to form sentences',\n                      'sentence': 'A group of words that expresses a statement, question, command, or exclamation',\n                      'structure': 'The way in which parts are arranged or put together to form a whole',\n                      'communication': 'The act or process of using words, sounds, signs, or behaviors to express or exchange information',\n                      'foundation': 'A basis upon which something stands or is supported'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the eight main parts of speech in English?',\n                      'How does sentence structure work in English?',\n                      'Why is grammar important for effective communication?',\n                      'What is the difference between a subject and a predicate?',\n                      'How can understanding grammar improve your writing?'\n                    ],\n                    answers: {\n                      'What are the eight main parts of speech in English?': 'Nouns, verbs, adjectives, adverbs, pronouns, prepositions, conjunctions, and interjections',\n                      'How does sentence structure work in English?': 'A sentence typically has a subject (who or what) and a predicate (what happens or what is said about the subject)',\n                      'Why is grammar important for effective communication?': 'Grammar helps us organize our thoughts clearly, avoid misunderstandings, and express ourselves precisely',\n                      'What is the difference between a subject and a predicate?': 'The subject is the person, place, thing, or idea that the sentence is about, while the predicate tells what the subject does or is',\n                      'How can understanding grammar improve your writing?': 'Understanding grammar helps you write clearer sentences, avoid common errors, and create more professional and readable content'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which of the following is NOT a part of speech?',\n                        options: ['Noun', 'Verb', 'Sentence', 'Adjective'],\n                        correct_answer: 'Sentence'\n                      },\n                      {\n                        question: 'True or False: Grammar is not important for communication.',\n                        options: ['True', 'False'],\n                        correct_answer: 'False'\n                      },\n                      {\n                        question: 'What is the subject in the sentence \"The cat sleeps peacefully\"?',\n                        options: ['The cat', 'sleeps', 'peacefully', 'sleeps peacefully'],\n                        correct_answer: 'The cat'\n                      },\n                      {\n                        question: 'Which word is an adjective in \"The beautiful red car\"?',\n                        options: ['The', 'beautiful', 'red', 'car'],\n                        correct_answer: 'beautiful'\n                      }\n                    ],\n                    options: {},\n                    correct_answers: {}\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: [\n                      'Match words with their definitions',\n                      'Fill in the blanks with correct words',\n                      'Identify parts of speech in sentences',\n                      'Create sentences using specific vocabulary words',\n                      'Find synonyms and antonyms for given words'\n                    ],\n                    grammar_exercises: [\n                      'Correct grammar errors in sentences',\n                      'Complete sentences with appropriate words',\n                      'Identify sentence structure patterns',\n                      'Transform sentences from one form to another',\n                      'Practice subject-verb agreement'\n                    ]\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: [\n                      'Practice pronunciation of grammar terms',\n                      'Discuss grammar concepts with classmates',\n                      'Explain grammar rules to others in your own words',\n                      'Role-play conversations using correct grammar',\n                      'Present grammar concepts to the class'\n                    ],\n                    discussion_topics: [\n                      'How does grammar help in speaking clearly?',\n                      'What grammar mistakes do you commonly make?',\n                      'How can we improve our grammar in daily conversations?',\n                      'What is the relationship between grammar and confidence in speaking?',\n                      'How does grammar vary between formal and informal speech?'\n                    ]\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: [\n                      'Write about your experience learning grammar',\n                      'Create sentences using different parts of speech',\n                      'Explain a grammar rule in your own words',\n                      'Write a short paragraph about why grammar matters',\n                      'Describe how grammar affects your daily communication'\n                    ],\n                    writing_tasks: [\n                      'Grammar practice exercises with corrections',\n                      'Sentence construction practice',\n                      'Grammar rule explanations in writing',\n                      'Paragraph writing with focus on grammar',\n                      'Error identification and correction exercises'\n                    ]\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get the hang of': 'To learn how to do something after practicing',\n                      'piece of cake': 'Something very easy to do',\n                      'hit the books': 'To study hard and seriously',\n                      'break the ice': 'To start a conversation in a social situation',\n                      'pull yourself together': 'To calm down and control your emotions'\n                    },\n                    phrasal_verbs: {\n                      'look up': 'To search for information in a book or online',\n                      'figure out': 'To understand or solve something',\n                      'catch on': 'To understand or learn something',\n                      'come up with': 'To think of or create an idea',\n                      'get along with': 'To have a good relationship with someone'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the main purpose of this chapter?',\n                        type: 'multiple_choice',\n                        options: ['To memorize vocabulary', 'To understand grammar basics', 'To pass an exam', 'To complete homework'],\n                        correct_answer: 'To understand grammar basics',\n                        marks: 10\n                      },\n                      {\n                        question: 'Explain how grammar helps in communication.',\n                        type: 'short_answer',\n                        marks: 15\n                      },\n                      {\n                        question: 'Identify the parts of speech in the sentence: \"The quick brown fox jumps over the lazy dog.\"',\n                        type: 'identification',\n                        marks: 20\n                      },\n                      {\n                        question: 'What are the three main components of a sentence?',\n                        type: 'multiple_choice',\n                        options: ['Subject, verb, object', 'Subject, predicate, punctuation', 'Noun, verb, adjective', 'Beginning, middle, end'],\n                        correct_answer: 'Subject, verb, object',\n                        marks: 10\n                      },\n                      {\n                        question: 'Write three sentences demonstrating different sentence structures.',\n                        type: 'writing',\n                        marks: 25\n                      }\n                    ],\n                    time_limit: '45 minutes',\n                    total_marks: 80\n                  }\n                }\n              ]\n            }\n          },\n          2: { // Book ID 2 - Advanced English Composition\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to Essay Writing',\n                  content: {\n                    text: 'Welcome to Essay Writing Fundamentals. This chapter will teach you how to write clear, organized, and compelling essays that effectively communicate your ideas.',\n                    overview: 'Learn the essential elements of essay writing including structure, organization, thesis statements, and supporting evidence.',\n                    key_concepts: ['Essay structure', 'Thesis statements', 'Organization', 'Clear writing', 'Logical flow', 'Supporting evidence']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding the basic essay structure with introduction, body, and conclusion',\n                      'Learning how to write strong thesis statements that guide your essay',\n                      'Organizing ideas logically with clear topic sentences and transitions',\n                      'Supporting arguments with relevant evidence and examples',\n                      'Writing clear, concise, and engaging prose'\n                    ],\n                    main_ideas: ['Essay structure', 'Writing organization', 'Argument development', 'Clear communication']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Understand and apply the basic essay structure',\n                      'Write clear and focused thesis statements',\n                      'Organize ideas logically with proper transitions',\n                      'Support arguments with relevant evidence',\n                      'Write clear, concise, and engaging essays'\n                    ],\n                    outcomes: ['Essay writing skills', 'Critical thinking', 'Clear communication', 'Academic writing proficiency']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What makes a good essay in your opinion?',\n                      'How do you currently organize your writing?',\n                      'What challenges do you face when writing essays?',\n                      'How important is structure in writing?',\n                      'What would you like to improve in your essay writing?'\n                    ],\n                    purpose: 'These questions help you reflect on your current writing skills and prepare for learning essay writing techniques.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'thesis': 'The main argument or claim of an essay',\n                      'structure': 'The organization and arrangement of ideas in writing',\n                      'transition': 'Words or phrases that connect ideas and paragraphs',\n                      'evidence': 'Facts, examples, or information that support an argument',\n                      'coherence': 'The quality of being logical and consistent'\n                    },\n                    text: 'This section covers essential essay writing concepts with practical examples and clear explanations. We will explore how to organize ideas effectively and create compelling arguments.',\n                    translation: 'Key terms will be explained in simple language with examples to help you understand how to apply these concepts in your writing.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'thesis': 'A statement or theory that is put forward as a premise to be maintained or proved',\n                      'structure': 'The arrangement of and relations between the parts of something complex',\n                      'transition': 'A word, phrase, or sentence that connects one topic or idea to another',\n                      'evidence': 'The available body of facts or information indicating whether a belief or proposition is true',\n                      'coherence': 'The quality of forming a unified whole'\n                    },\n                    definitions: {\n                      'thesis': 'The central argument or main point that an essay aims to prove or support',\n                      'structure': 'The way in which parts are arranged or organized to form a complete whole',\n                      'transition': 'A connecting word or phrase that helps readers move smoothly from one idea to another',\n                      'evidence': 'Supporting material that validates or substantiates a claim or argument',\n                      'coherence': 'The logical connection and consistency between ideas in a piece of writing'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the three main parts of an essay?',\n                      'Why is a thesis statement important?',\n                      'How do transitions improve essay flow?',\n                      'What makes evidence effective in an essay?',\n                      'How can you ensure your essay is coherent?'\n                    ],\n                    answers: {\n                      'What are the three main parts of an essay?': 'Introduction, body paragraphs, and conclusion',\n                      'Why is a thesis statement important?': 'It provides focus, guides the reader, and helps organize your ideas',\n                      'How do transitions improve essay flow?': 'They create smooth connections between ideas and help readers follow your logic',\n                      'What makes evidence effective in an essay?': 'Relevance, reliability, and proper integration with your argument',\n                      'How can you ensure your essay is coherent?': 'Use clear organization, logical flow, and consistent focus on your thesis'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which part of an essay contains the thesis statement?',\n                        options: ['Body', 'Conclusion', 'Introduction', 'All of the above'],\n                        correct_answer: 'Introduction'\n                      },\n                      {\n                        question: 'True or False: Transitions are only needed between paragraphs.',\n                        options: ['True', 'False'],\n                        correct_answer: 'False'\n                      },\n                      {\n                        question: 'What is the purpose of topic sentences?',\n                        options: ['To end paragraphs', 'To introduce main ideas', 'To provide evidence', 'To conclude arguments'],\n                        correct_answer: 'To introduce main ideas'\n                      }\n                    ],\n                    options: {},\n                    correct_answers: {}\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: [\n                      'Match essay writing terms with definitions',\n                      'Identify transition words in sample texts',\n                      'Practice using academic vocabulary',\n                      'Learn synonyms for common essay words',\n                      'Build vocabulary for different essay types'\n                    ],\n                    grammar_exercises: [\n                      'Practice complex sentence structures',\n                      'Work on subject-verb agreement in essays',\n                      'Improve sentence variety and flow',\n                      'Practice using active and passive voice',\n                      'Work on punctuation in academic writing'\n                    ]\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: [\n                      'Present your essay outline to classmates',\n                      'Discuss essay topics in small groups',\n                      'Practice explaining your thesis statement',\n                      'Role-play peer review sessions',\n                      'Present essay conclusions to the class'\n                    ],\n                    discussion_topics: [\n                      'How does speaking about your essay help improve it?',\n                      'What makes a good essay presentation?',\n                      'How can peer feedback improve writing?',\n                      'What are common essay writing challenges?',\n                      'How does oral communication relate to written communication?'\n                    ]\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: [\n                      'Write a thesis statement for a topic of your choice',\n                      'Create an outline for a five-paragraph essay',\n                      'Write a transition paragraph between two ideas',\n                      'Draft an introduction paragraph with a hook',\n                      'Write a conclusion that summarizes and reflects'\n                    ],\n                    writing_tasks: [\n                      'Essay outline creation',\n                      'Thesis statement writing',\n                      'Paragraph development practice',\n                      'Transition writing exercises',\n                      'Essay revision and editing'\n                    ]\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get to the point': 'To speak directly about the main issue',\n                      'in a nutshell': 'To summarize something briefly',\n                      'hit the nail on the head': 'To describe exactly what is causing a situation',\n                      'put pen to paper': 'To start writing',\n                      'read between the lines': 'To understand the hidden meaning'\n                    },\n                    phrasal_verbs: {\n                      'come up with': 'To think of or create an idea',\n                      'get across': 'To make something understood',\n                      'lay out': 'To explain or present something clearly',\n                      'sum up': 'To give a brief summary',\n                      'work out': 'To solve or figure out something'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the purpose of an essay introduction?',\n                        type: 'multiple_choice',\n                        options: ['To list all your points', 'To introduce your topic and thesis', 'To provide all evidence', 'To conclude your argument'],\n                        correct_answer: 'To introduce your topic and thesis',\n                        marks: 10\n                      },\n                      {\n                        question: 'Explain the importance of transitions in essay writing.',\n                        type: 'short_answer',\n                        marks: 15\n                      },\n                      {\n                        question: 'Create a thesis statement for an essay about the benefits of exercise.',\n                        type: 'writing',\n                        marks: 20\n                      },\n                      {\n                        question: 'What are the key elements of a strong conclusion?',\n                        type: 'multiple_choice',\n                        options: ['Summary, restatement, reflection', 'New evidence, summary, hook', 'Introduction, body, conclusion', 'Thesis, evidence, conclusion'],\n                        correct_answer: 'Summary, restatement, reflection',\n                        marks: 10\n                      }\n                    ],\n                    time_limit: '60 minutes',\n                    total_marks: 55\n                  }\n                }\n              ]\n            }\n          },\n          11: { // Book ID 11 - Master English: Complete Language Course\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to English Fundamentals',\n                  content: {\n                    text: 'Welcome to English Fundamentals: Building Strong Foundations. This comprehensive chapter covers all essential aspects of English language learning to help you become a confident English speaker and writer.',\n                    overview: 'Build a strong foundation in English with comprehensive coverage of grammar, vocabulary, communication skills, and practical application.',\n                    key_concepts: ['Grammar fundamentals', 'Vocabulary building', 'Communication skills', 'Practical application', 'Language confidence', 'Cultural understanding']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding fundamental English grammar concepts and rules',\n                      'Building a comprehensive vocabulary for various situations',\n                      'Developing effective communication skills for different contexts',\n                      'Learning practical language applications in real-world scenarios',\n                      'Building confidence in using English in various settings'\n                    ],\n                    main_ideas: ['Grammar mastery', 'Vocabulary expansion', 'Communication skills', 'Practical application', 'Confidence building']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Master fundamental English grammar concepts and apply them correctly',\n                      'Build a comprehensive vocabulary for various communication contexts',\n                      'Develop effective speaking and listening skills in English',\n                      'Improve writing abilities with proper grammar and structure',\n                      'Gain confidence in using English in academic and social settings'\n                    ],\n                    outcomes: ['Grammar proficiency', 'Vocabulary mastery', 'Communication competence', 'Writing skills', 'Language confidence']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What are your current strengths and weaknesses in English?',\n                      'How do you plan to use English in your future?',\n                      'What specific areas of English do you want to improve?',\n                      'How confident are you in speaking English with others?',\n                      'What motivates you to learn English?'\n                    ],\n                    purpose: 'These questions help you assess your current English level and set clear learning goals for this comprehensive course.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'fundamental': 'Basic and essential; forming a foundation',\n                      'comprehensive': 'Complete and thorough; covering all aspects',\n                      'proficiency': 'A high degree of skill or expertise in something',\n                      'competence': 'The ability to do something successfully or efficiently',\n                      'foundation': 'The basis or groundwork of anything'\n                    },\n                    text: 'This comprehensive section covers essential English language concepts with practical examples and clear explanations. We will explore how to build a strong foundation in English for effective communication.',\n                    translation: 'Key concepts will be explained in simple terms with examples to help you understand and apply English language principles effectively.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'fundamental': 'Relating to the foundation or basis; essential and important',\n                      'comprehensive': 'Including all or nearly all elements or aspects; thorough',\n                      'proficiency': 'The state of being proficient; advanced skill or knowledge',\n                      'competence': 'The quality or state of being competent; adequate ability',\n                      'foundation': 'The basis or groundwork upon which something stands or is built'\n                    },\n                    definitions: {\n                      'fundamental': 'Relating to the foundation or basis; essential and important',\n                      'comprehensive': 'Including all or nearly all elements or aspects; thorough',\n                      'proficiency': 'The state of being proficient; advanced skill or knowledge',\n                      'competence': 'The quality or state of being competent; adequate ability',\n                      'foundation': 'The basis or groundwork upon which something stands or is built'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the three main components of effective communication?',\n                      'How does building vocabulary improve language skills?',\n                      'Why is grammar important for clear communication?',\n                      'What role does confidence play in language learning?',\n                      'How can you apply English skills in real-world situations?'\n                    ],\n                    answers: {\n                      'What are the three main components of effective communication?': 'Speaking, listening, and understanding context',\n                      'How does building vocabulary improve language skills?': 'It allows for more precise expression and better comprehension',\n                      'Why is grammar important for clear communication?': 'It provides structure and rules that make communication clear and understandable',\n                      'What role does confidence play in language learning?': 'Confidence encourages practice and reduces fear of making mistakes',\n                      'How can you apply English skills in real-world situations?': 'Through practice in conversations, writing, reading, and listening in various contexts'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which of the following is most important for language learning?',\n                        options: ['Memorizing rules', 'Regular practice', 'Perfect pronunciation', 'Advanced vocabulary'],\n                        correct_answer: 'Regular practice'\n                      },\n                      {\n                        question: 'True or False: Confidence is not important for learning English.',\n                        options: ['True', 'False'],\n                        correct_answer: 'False'\n                      },\n                      {\n                        question: 'What is the best way to improve vocabulary?',\n                        options: ['Reading only', 'Speaking only', 'Combined approach', 'Writing only'],\n                        correct_answer: 'Combined approach'\n                      }\n                    ],\n                    options: {},\n                    correct_answers: {}\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: [\n                      'Match words with their definitions',\n                      'Create sentences using new vocabulary',\n                      'Practice word families and related forms',\n                      'Learn synonyms and antonyms',\n                      'Build context-specific vocabulary'\n                    ],\n                    grammar_exercises: [\n                      'Practice basic sentence structures',\n                      'Work on verb tenses and forms',\n                      'Improve subject-verb agreement',\n                      'Practice using articles correctly',\n                      'Work on sentence variety and complexity'\n                    ]\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: [\n                      'Practice pronunciation of new vocabulary',\n                      'Engage in guided conversations',\n                      'Practice giving short presentations',\n                      'Role-play different social situations',\n                      'Practice asking and answering questions'\n                    ],\n                    discussion_topics: [\n                      'How do you prefer to learn new languages?',\n                      'What challenges do you face in English communication?',\n                      'How can technology help in language learning?',\n                      'What cultural aspects are important in language learning?',\n                      'How do you stay motivated in long-term learning?'\n                    ]\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: [\n                      'Write about your language learning journey',\n                      'Describe your ideal English learning environment',\n                      'Write a short paragraph about your goals',\n                      'Create a dialogue between two language learners',\n                      'Write about a cultural experience related to language'\n                    ],\n                    writing_tasks: [\n                      'Journal writing practice',\n                      'Short paragraph composition',\n                      'Dialogue creation exercises',\n                      'Goal-setting writing',\n                      'Reflection writing tasks'\n                    ]\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get the hang of': 'To learn how to do something after practicing',\n                      'piece of cake': 'Something very easy to do',\n                      'hit the books': 'To study hard and seriously',\n                      'break the ice': 'To start a conversation in a social situation',\n                      'pull yourself together': 'To calm down and control your emotions'\n                    },\n                    phrasal_verbs: {\n                      'look up': 'To search for information in a book or online',\n                      'figure out': 'To understand or solve something',\n                      'catch on': 'To understand or learn something',\n                      'come up with': 'To think of or create an idea',\n                      'get along with': 'To have a good relationship with someone'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the main goal of this comprehensive English course?',\n                        type: 'multiple_choice',\n                        options: ['To pass exams', 'To build strong language foundations', 'To memorize vocabulary', 'To learn only grammar'],\n                        correct_answer: 'To build strong language foundations',\n                        marks: 15\n                      },\n                      {\n                        question: 'Explain how confidence affects language learning.',\n                        type: 'short_answer',\n                        marks: 20\n                      },\n                      {\n                        question: 'What are the key components of effective language learning?',\n                        type: 'multiple_choice',\n                        options: ['Grammar only', 'Vocabulary only', 'Integrated approach', 'Memorization only'],\n                        correct_answer: 'Integrated approach',\n                        marks: 10\n                      },\n                      {\n                        question: 'How can you apply what you learn in real-world situations?',\n                        type: 'short_answer',\n                        marks: 20\n                      }\n                    ],\n                    time_limit: '90 minutes',\n                    total_marks: 65\n                  }\n                }\n              ]\n            }\n          }\n        };\n        \n        // Get the appropriate chapter data based on book ID and chapter ID\n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        \n        setChapter(chapterData);\n      } else if (chaptersResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapters data due to authentication required');\n        \n        // Dynamic mock chapters data based on book ID\n        const mockChaptersData = {\n          1: [ // English Grammar Fundamentals\n            {\n              id: 1,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure',\n              duration: '4 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 2,\n              title: 'Essential Vocabulary Building',\n              description: 'Building a strong foundation of English vocabulary',\n              duration: '3 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            }\n          ],\n          2: [ // Advanced English Composition\n            {\n              id: 1,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization',\n              duration: '5 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 2,\n              title: 'Advanced Writing Techniques',\n              description: 'Master sophisticated writing styles and techniques',\n              duration: '6 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            }\n          ],\n          11: [ // Master English: Complete Language Course\n            {\n              id: 1,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary',\n              duration: '6 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 2,\n              title: 'Effective Communication: Speaking with Confidence',\n              description: 'Develop your speaking and listening skills',\n              duration: '8 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 3,\n              title: 'Advanced Writing: Expressing Ideas Clearly',\n              description: 'Learn to write clearly and persuasively',\n              duration: '10 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            }\n          ]\n        };\n        \n        // Use the appropriate chapters data based on book ID, or default to first book\n        const chaptersData = mockChaptersData[parseInt(bookId)] || mockChaptersData[1];\n        setChapters(chaptersData);\n      }\n\n      // Mock data for development if no data was loaded\n      if (!book) {\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        \n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n\n      if (!chapter) {\n        const mockChapterData = {\n          1: { // Book ID 1\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: []\n            }\n          },\n          2: { // Book ID 2\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: []\n            }\n          },\n          11: { // Book ID 11\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: []\n            }\n          }\n        };\n        \n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        \n        setChapter(chapterData);\n      }\n\n      if (chapters.length === 0) {\n        setChapters([\n          { id: 1, title: 'Introduction to Advanced Calculus' },\n          { id: 2, title: 'Limits and Continuity' },\n          { id: 3, title: 'Differentiation Techniques' },\n          { id: 4, title: 'Integration Methods' }\n        ]);\n      }\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Failed to load chapter content');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const currentChapterIndex = chapters.findIndex(ch => ch.id === parseInt(chapterId));\n  const hasPreviousChapter = currentChapterIndex > 0;\n  const hasNextChapter = currentChapterIndex < chapters.length - 1;\n\n  const navigateToChapter = (direction) => {\n    if (direction === 'prev' && hasPreviousChapter) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      navigate(`/app/library/${bookId}/chapter/${prevChapter.id}`);\n    } else if (direction === 'next' && hasNextChapter) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      navigate(`/app/library/${bookId}/chapter/${nextChapter.id}`);\n    }\n  };\n\n  const handleSectionComplete = (sectionId, sectionIndex) => {\n    // Add section to completed sections\n    if (!completedSections.includes(sectionId)) {\n      setCompletedSections(prev => [...prev, sectionId]);\n      \n      // Progress is now calculated dynamically from completedSections\n      \n      // Auto-expand next section if available\n      if (sectionIndex < chapter.sections.length - 1) {\n        setCurrentSection(sectionIndex + 1);\n      }\n      \n      toast.success('Section completed!');\n    }\n  };\n\n  const toggleAudio = () => {\n    setIsPlaying(!isPlaying);\n    // TODO: Implement actual audio playback\n    toast.success(isPlaying ? 'Audio paused' : 'Audio playing');\n  };\n\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n    // TODO: Implement actual mute functionality\n    toast.success(isMuted ? 'Audio unmuted' : 'Audio muted');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading chapter...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!chapter || !book) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <BookOpenIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Chapter not found</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            The chapter you're looking for doesn't exist.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <Link\n                to={`/app/library/${bookId}`}\n                className=\"text-indigo-600 hover:text-indigo-500 flex items-center\"\n              >\n                <ChevronLeftIcon className=\"h-5 w-5 mr-1\" />\n                Back to Book\n              </Link>\n              <span className=\"text-gray-400\">/</span>\n              <span className=\"text-gray-600\">{chapter.title}</span>\n            </div>\n            \n            {/* Audio Controls */}\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={toggleAudio}\n                className=\"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200\"\n              >\n                {isPlaying ? (\n                  <PauseIcon className=\"h-5 w-5 text-gray-600\" />\n                ) : (\n                  <PlayIcon className=\"h-5 w-5 text-gray-600\" />\n                )}\n              </button>\n              <button\n                onClick={toggleMute}\n                className=\"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200\"\n              >\n                {isMuted ? (\n                  <SpeakerXMarkIcon className=\"h-5 w-5 text-gray-600\" />\n                ) : (\n                  <SpeakerWaveIcon className=\"h-5 w-5 text-gray-600\" />\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-3\">\n            {/* Chapter Header */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                    {chapter.title}\n                  </h1>\n                  <p className=\"text-gray-600\">{chapter.description}</p>\n                </div>\n                              <div className=\"text-right\">\n                <div className=\"text-sm text-gray-500\">Progress</div>\n                <div className=\"text-2xl font-bold text-indigo-600\">\n                  {Math.round((completedSections.length / (chapter.sections?.length || 1)) * 100)}%\n                </div>\n              </div>\n              </div>\n              \n              {/* Progress Bar */}\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-indigo-600 h-2 rounded-full transition-all duration-300\"\n                  style={{ width: `${(completedSections.length / (chapter.sections?.length || 1)) * 100}%` }}\n                ></div>\n              </div>\n            </div>\n\n            {/* Chapter Content */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n              <ChapterSections \n                sections={chapter.sections || []}\n                onSectionComplete={handleSectionComplete}\n                completedSections={completedSections}\n              />\n            </div>\n\n            {/* Navigation */}\n            <div className=\"flex items-center justify-between\">\n              <button\n                onClick={() => navigateToChapter('prev')}\n                disabled={!hasPreviousChapter}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <ChevronLeftIcon className=\"h-5 w-5 mr-2\" />\n                Previous Chapter\n              </button>\n              \n              <button\n                onClick={() => navigateToChapter('next')}\n                disabled={!hasNextChapter}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Next Chapter\n                <ChevronRightIcon className=\"h-5 w-5 ml-2\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Chapter Navigation */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Chapter Sections</h3>\n              <div className=\"space-y-2\">\n                {chapter.sections?.map((section, index) => {\n                  const isCompleted = completedSections.includes(section.id);\n                  const isCurrent = index === currentSection;\n                  \n                  return (\n                    <button\n                      key={section.id}\n                      onClick={() => setCurrentSection(index)}\n                      className={`w-full text-left p-3 rounded-md transition-colors duration-200 ${\n                        isCurrent\n                          ? 'bg-indigo-100 text-indigo-700 border border-indigo-200'\n                          : isCompleted\n                          ? 'bg-green-50 text-green-700 border border-green-200'\n                          : 'hover:bg-gray-50 text-gray-700'\n                      }`}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm font-medium\">\n                          {section.kind ? section.kind.replace('_', ' ') : section.title}\n                        </span>\n                        {isCompleted && (\n                          <CheckCircleIcon className=\"h-5 w-5 text-green-500\" />\n                        )}\n                      </div>\n                      <div className=\"flex items-center mt-1 text-xs text-gray-500\">\n                        <DocumentTextIcon className=\"h-4 w-4 mr-1\" />\n                        Section {index + 1} of {chapter.sections.length}\n                      </div>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Notes */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">My Notes</h3>\n                <button\n                  onClick={() => setShowNotes(!showNotes)}\n                  className=\"text-indigo-600 hover:text-indigo-500 text-sm\"\n                >\n                  {showNotes ? 'Hide' : 'Show'}\n                </button>\n              </div>\n              \n              {showNotes && (\n                <div>\n                  <textarea\n                    value={userNotes}\n                    onChange={(e) => setUserNotes(e.target.value)}\n                    placeholder=\"Add your notes here...\"\n                    className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                    rows={4}\n                  />\n                  <button className=\"mt-2 w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200\">\n                    Save Notes\n                  </button>\n                </div>\n              )}\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Quick Actions</h3>\n              <div className=\"space-y-3\">\n                <button className=\"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\">\n                  <LightBulbIcon className=\"h-5 w-5 mr-2\" />\n                  Ask AI Assistant\n                </button>\n                <button className=\"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\">\n                  <AcademicCapIcon className=\"h-5 w-5 mr-2\" />\n                  Take Quiz\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChapterViewerPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}