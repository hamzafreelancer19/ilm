{"ast":null,"code":"var _jsxFileName = \"D:\\\\ilmkademy\\\\ilm-kademy-frontend\\\\src\\\\pages\\\\library\\\\LibraryPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MagnifyingGlassIcon, BookOpenIcon, AcademicCapIcon, ClockIcon, StarIcon, UserGroupIcon } from '@heroicons/react/24/outline';\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\nimport toast from 'react-hot-toast';\nimport { API_ENDPOINTS } from '../../config/api';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LibraryPage = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [filteredBooks, setFilteredBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedSubject, setSelectedSubject] = useState('all');\n  const [selectedLanguage, setSelectedLanguage] = useState('all');\n  const [selectedLevel, setSelectedLevel] = useState('all');\n  const subjects = [{\n    id: 'all',\n    name: 'All Subjects'\n  }, {\n    id: 'english',\n    name: 'English'\n  }, {\n    id: 'mathematics',\n    name: 'Mathematics'\n  }, {\n    id: 'science',\n    name: 'Science'\n  }, {\n    id: 'history',\n    name: 'History'\n  }, {\n    id: 'literature',\n    name: 'Literature'\n  }, {\n    id: 'geography',\n    name: 'Geography'\n  }, {\n    id: 'computer_science',\n    name: 'Computer Science'\n  }, {\n    id: 'languages',\n    name: 'Languages'\n  }];\n  const languages = [{\n    id: 'all',\n    name: 'All Languages'\n  }, {\n    id: 'english',\n    name: 'English'\n  }, {\n    id: 'urdu',\n    name: 'Urdu'\n  }, {\n    id: 'arabic',\n    name: 'Arabic'\n  }, {\n    id: 'french',\n    name: 'French'\n  }, {\n    id: 'spanish',\n    name: 'Spanish'\n  }];\n  const levels = [{\n    id: 'all',\n    name: 'All Levels'\n  }, {\n    id: 'beginner',\n    name: 'Beginner'\n  }, {\n    id: 'intermediate',\n    name: 'Intermediate'\n  }, {\n    id: 'advanced',\n    name: 'Advanced'\n  }];\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n  useEffect(() => {\n    filterBooks();\n  }, [books, searchTerm, selectedSubject, selectedLanguage, selectedLevel]);\n  const fetchBooks = async () => {\n    try {\n      // Get auth token from localStorage\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      if (tokens.access) {\n        headers['Authorization'] = `Bearer ${tokens.access}`;\n      }\n      const response = await fetch(API_ENDPOINTS.BOOKS, {\n        headers\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setBooks(data.results || []);\n      } else if (response.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock data due to authentication required');\n        setBooks([{\n          id: 1,\n          title: 'English Grammar Fundamentals',\n          author: 'Dr. Sarah Johnson',\n          subject: 'english',\n          language: 'english',\n          level: 'beginner',\n          description: 'Master the basics of English grammar and vocabulary. Perfect for beginners starting their English learning journey.',\n          cover_image: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400&h=500&fit=crop',\n          chapters_count: 2,\n          rating: 4.8,\n          students_enrolled: 1250\n        }, {\n          id: 2,\n          title: 'Advanced English Composition',\n          author: 'Prof. Michael Chen',\n          subject: 'english',\n          language: 'english',\n          level: 'intermediate',\n          description: 'Develop advanced writing skills and composition techniques. Learn to express ideas clearly and persuasively.',\n          cover_image: 'https://images.unsplash.com/photo-1455390582262-044cdead277a?w=400&h=500&fit=crop',\n          chapters_count: 2,\n          rating: 4.6,\n          students_enrolled: 980\n        }, {\n          id: 11,\n          title: 'Master English: Complete Language Course',\n          author: 'Dr. Emily Rodriguez',\n          subject: 'english',\n          language: 'english',\n          level: 'intermediate',\n          description: 'A comprehensive English course covering all aspects of language learning including grammar, vocabulary, communication skills, and practical exercises.',\n          cover_image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=500&fit=crop',\n          chapters_count: 3,\n          rating: 4.9,\n          students_enrolled: 2100\n        }]);\n      }\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      toast.error('Failed to load books');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const filterBooks = () => {\n    let filtered = [...books];\n\n    // Search filter\n    if (searchTerm) {\n      filtered = filtered.filter(book => book.title.toLowerCase().includes(searchTerm.toLowerCase()) || book.author.toLowerCase().includes(searchTerm.toLowerCase()) || book.description.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n\n    // Subject filter\n    if (selectedSubject !== 'all') {\n      filtered = filtered.filter(book => book.subject === selectedSubject);\n    }\n\n    // Language filter\n    if (selectedLanguage !== 'all') {\n      filtered = filtered.filter(book => book.language === selectedLanguage);\n    }\n\n    // Level filter\n    if (selectedLevel !== 'all') {\n      filtered = filtered.filter(book => book.level === selectedLevel);\n    }\n    setFilteredBooks(filtered);\n  };\n  const getSubjectIcon = subject => {\n    switch (subject) {\n      case 'english':\n        return /*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"h-6 w-6 text-indigo-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 16\n        }, this);\n      case 'mathematics':\n        return /*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n          className: \"h-6 w-6 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 16\n        }, this);\n      case 'science':\n        return /*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n          className: \"h-6 w-6 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 16\n        }, this);\n      case 'history':\n        return /*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"h-6 w-6 text-amber-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 16\n        }, this);\n      case 'computer_science':\n        return /*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n          className: \"h-6 w-6 text-purple-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"h-6 w-6 text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getLevelBadge = level => {\n    const colors = {\n      beginner: 'bg-green-100 text-green-800',\n      intermediate: 'bg-yellow-100 text-yellow-800',\n      advanced: 'bg-red-100 text-red-800'\n    };\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colors[level] || colors.beginner}`,\n      children: level.charAt(0).toUpperCase() + level.slice(1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading library...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-gray-900\",\n              children: \"Library\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-gray-600\",\n              children: \"Explore our collection of educational books and resources\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: [filteredBooks.length, \" of \", books.length, \" books\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-5 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search books, authors, or topics...\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedSubject,\n              onChange: e => setSelectedSubject(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",\n              children: subjects.map(subject => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: subject.id,\n                children: subject.name\n              }, subject.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedLanguage,\n              onChange: e => setSelectedLanguage(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",\n              children: languages.map(language => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: language.id,\n                children: language.name\n              }, language.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedLevel,\n              onChange: e => setSelectedLevel(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",\n              children: levels.map(level => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: level.id,\n                children: level.name\n              }, level.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), filteredBooks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No books found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"Try adjusting your search or filter criteria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n        children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aspect-w-3 aspect-h-4 bg-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: book.cover_image,\n              alt: book.title,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [getSubjectIcon(book.subject), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-medium text-gray-500 uppercase\",\n                  children: book.subject.replace('_', ' ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this), getLevelBadge(book.level)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-1 line-clamp-2\",\n              children: book.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: [\"by \", book.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mb-3 line-clamp-2\",\n              children: book.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-sm text-gray-500 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [book.chapters_count, \" chapters\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2605\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: book.rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/app/library/${book.id}`,\n              className: \"w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200 text-center block\",\n              children: \"View Book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this)]\n        }, book.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(LibraryPage, \"9Qf19ly2ndTnWfC5crdROo6GEhc=\");\n_c = LibraryPage;\nexport default LibraryPage;\nvar _c;\n$RefreshReg$(_c, \"LibraryPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","MagnifyingGlassIcon","BookOpenIcon","AcademicCapIcon","ClockIcon","StarIcon","UserGroupIcon","StarIconSolid","toast","API_ENDPOINTS","useAuth","jsxDEV","_jsxDEV","LibraryPage","_s","books","setBooks","filteredBooks","setFilteredBooks","isLoading","setIsLoading","searchTerm","setSearchTerm","selectedSubject","setSelectedSubject","selectedLanguage","setSelectedLanguage","selectedLevel","setSelectedLevel","subjects","id","name","languages","levels","fetchBooks","filterBooks","tokens","JSON","parse","localStorage","getItem","headers","access","response","fetch","BOOKS","ok","data","json","results","status","console","log","title","author","subject","language","level","description","cover_image","chapters_count","rating","students_enrolled","error","filtered","filter","book","toLowerCase","includes","getSubjectIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getLevelBadge","colors","beginner","intermediate","advanced","children","charAt","toUpperCase","slice","length","type","placeholder","value","onChange","e","target","map","src","alt","replace","to","_c","$RefreshReg$"],"sources":["D:/ilmkademy/ilm-kademy-frontend/src/pages/library/LibraryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { MagnifyingGlassIcon, BookOpenIcon, AcademicCapIcon, ClockIcon, StarIcon, UserGroupIcon } from '@heroicons/react/24/outline';\r\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\r\nimport toast from 'react-hot-toast';\r\nimport { API_ENDPOINTS } from '../../config/api';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst LibraryPage = () => {\r\n  const [books, setBooks] = useState([]);\r\n  const [filteredBooks, setFilteredBooks] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedSubject, setSelectedSubject] = useState('all');\r\n  const [selectedLanguage, setSelectedLanguage] = useState('all');\r\n  const [selectedLevel, setSelectedLevel] = useState('all');\r\n\r\n  const subjects = [\r\n    { id: 'all', name: 'All Subjects' },\r\n    { id: 'english', name: 'English' },\r\n    { id: 'mathematics', name: 'Mathematics' },\r\n    { id: 'science', name: 'Science' },\r\n    { id: 'history', name: 'History' },\r\n    { id: 'literature', name: 'Literature' },\r\n    { id: 'geography', name: 'Geography' },\r\n    { id: 'computer_science', name: 'Computer Science' },\r\n    { id: 'languages', name: 'Languages' }\r\n  ];\r\n\r\n  const languages = [\r\n    { id: 'all', name: 'All Languages' },\r\n    { id: 'english', name: 'English' },\r\n    { id: 'urdu', name: 'Urdu' },\r\n    { id: 'arabic', name: 'Arabic' },\r\n    { id: 'french', name: 'French' },\r\n    { id: 'spanish', name: 'Spanish' }\r\n  ];\r\n\r\n  const levels = [\r\n    { id: 'all', name: 'All Levels' },\r\n    { id: 'beginner', name: 'Beginner' },\r\n    { id: 'intermediate', name: 'Intermediate' },\r\n    { id: 'advanced', name: 'Advanced' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchBooks();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterBooks();\r\n  }, [books, searchTerm, selectedSubject, selectedLanguage, selectedLevel]);\r\n\r\n  const fetchBooks = async () => {\r\n    try {\r\n      // Get auth token from localStorage\r\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\r\n      const headers = {\r\n        'Content-Type': 'application/json',\r\n      };\r\n      \r\n      if (tokens.access) {\r\n        headers['Authorization'] = `Bearer ${tokens.access}`;\r\n      }\r\n\r\n      const response = await fetch(API_ENDPOINTS.BOOKS, { headers });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBooks(data.results || []);\r\n            } else if (response.status === 401) {\r\n        // If unauthorized, show mock data for development\r\n        console.log('Using mock data due to authentication required');\r\n        setBooks([\r\n          {\r\n            id: 1,\r\n            title: 'English Grammar Fundamentals',\r\n            author: 'Dr. Sarah Johnson',\r\n            subject: 'english',\r\n            language: 'english',\r\n            level: 'beginner',\r\n            description: 'Master the basics of English grammar and vocabulary. Perfect for beginners starting their English learning journey.',\r\n            cover_image: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400&h=500&fit=crop',\r\n            chapters_count: 2,\r\n            rating: 4.8,\r\n            students_enrolled: 1250\r\n          },\r\n          {\r\n            id: 2,\r\n            title: 'Advanced English Composition',\r\n            author: 'Prof. Michael Chen',\r\n            subject: 'english',\r\n            language: 'english',\r\n            level: 'intermediate',\r\n            description: 'Develop advanced writing skills and composition techniques. Learn to express ideas clearly and persuasively.',\r\n            cover_image: 'https://images.unsplash.com/photo-1455390582262-044cdead277a?w=400&h=500&fit=crop',\r\n            chapters_count: 2,\r\n            rating: 4.6,\r\n            students_enrolled: 980\r\n          },\r\n          {\r\n            id: 11,\r\n            title: 'Master English: Complete Language Course',\r\n            author: 'Dr. Emily Rodriguez',\r\n            subject: 'english',\r\n            language: 'english',\r\n            level: 'intermediate',\r\n            description: 'A comprehensive English course covering all aspects of language learning including grammar, vocabulary, communication skills, and practical exercises.',\r\n            cover_image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=500&fit=crop',\r\n            chapters_count: 3,\r\n            rating: 4.9,\r\n            students_enrolled: 2100\r\n          }\r\n        ]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching books:', error);\r\n      toast.error('Failed to load books');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterBooks = () => {\r\n    let filtered = [...books];\r\n\r\n    // Search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(book =>\r\n        book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        book.author.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        book.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Subject filter\r\n    if (selectedSubject !== 'all') {\r\n      filtered = filtered.filter(book => book.subject === selectedSubject);\r\n    }\r\n\r\n    // Language filter\r\n    if (selectedLanguage !== 'all') {\r\n      filtered = filtered.filter(book => book.language === selectedLanguage);\r\n    }\r\n\r\n    // Level filter\r\n    if (selectedLevel !== 'all') {\r\n      filtered = filtered.filter(book => book.level === selectedLevel);\r\n    }\r\n\r\n    setFilteredBooks(filtered);\r\n  };\r\n\r\n  const getSubjectIcon = (subject) => {\r\n    switch (subject) {\r\n      case 'english':\r\n        return <BookOpenIcon className=\"h-6 w-6 text-indigo-600\" />;\r\n      case 'mathematics':\r\n        return <AcademicCapIcon className=\"h-6 w-6 text-blue-600\" />;\r\n      case 'science':\r\n        return <AcademicCapIcon className=\"h-6 w-6 text-green-600\" />;\r\n      case 'history':\r\n        return <BookOpenIcon className=\"h-6 w-6 text-amber-600\" />;\r\n      case 'computer_science':\r\n        return <AcademicCapIcon className=\"h-6 w-6 text-purple-600\" />;\r\n      default:\r\n        return <BookOpenIcon className=\"h-6 w-6 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const getLevelBadge = (level) => {\r\n    const colors = {\r\n      beginner: 'bg-green-100 text-green-800',\r\n      intermediate: 'bg-yellow-100 text-yellow-800',\r\n      advanced: 'bg-red-100 text-red-800'\r\n    };\r\n    \r\n    return (\r\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colors[level] || colors.beginner}`}>\r\n        {level.charAt(0).toUpperCase() + level.slice(1)}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading library...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">Library</h1>\r\n              <p className=\"mt-2 text-gray-600\">\r\n                Explore our collection of educational books and resources\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"text-sm text-gray-500\">\r\n                {filteredBooks.length} of {books.length} books\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Search and Filters */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-4\">\r\n            {/* Search */}\r\n            <div className=\"lg:col-span-2\">\r\n              <div className=\"relative\">\r\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search books, authors, or topics...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Subject Filter */}\r\n            <div>\r\n              <select\r\n                value={selectedSubject}\r\n                onChange={(e) => setSelectedSubject(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                {subjects.map(subject => (\r\n                  <option key={subject.id} value={subject.id}>\r\n                    {subject.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Language Filter */}\r\n            <div>\r\n              <select\r\n                value={selectedLanguage}\r\n                onChange={(e) => setSelectedLanguage(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                {languages.map(language => (\r\n                  <option key={language.id} value={language.id}>\r\n                    {language.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Level Filter */}\r\n            <div>\r\n              <select\r\n                value={selectedLevel}\r\n                onChange={(e) => setSelectedLevel(e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\r\n              >\r\n                {levels.map(level => (\r\n                  <option key={level.id} value={level.id}>\r\n                    {level.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Books Grid */}\r\n        {filteredBooks.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <BookOpenIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No books found</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              Try adjusting your search or filter criteria.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n            {filteredBooks.map((book) => (\r\n              <div\r\n                key={book.id}\r\n                className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200\"\r\n              >\r\n                {/* Book Cover */}\r\n                <div className=\"aspect-w-3 aspect-h-4 bg-gray-200\">\r\n                  <img\r\n                    src={book.cover_image}\r\n                    alt={book.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Book Info */}\r\n                <div className=\"p-4\">\r\n                  <div className=\"flex items-start justify-between mb-2\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      {getSubjectIcon(book.subject)}\r\n                      <span className=\"text-xs font-medium text-gray-500 uppercase\">\r\n                        {book.subject.replace('_', ' ')}\r\n                      </span>\r\n                    </div>\r\n                    {getLevelBadge(book.level)}\r\n                  </div>\r\n\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1 line-clamp-2\">\r\n                    {book.title}\r\n                  </h3>\r\n                  \r\n                  <p className=\"text-sm text-gray-600 mb-2\">\r\n                    by {book.author}\r\n                  </p>\r\n                  \r\n                  <p className=\"text-sm text-gray-500 mb-3 line-clamp-2\">\r\n                    {book.description}\r\n                  </p>\r\n\r\n                  {/* Stats */}\r\n                  <div className=\"flex items-center justify-between text-sm text-gray-500 mb-4\">\r\n                    <span>{book.chapters_count} chapters</span>\r\n                    <div className=\"flex items-center space-x-1\">\r\n                      <span>â˜…</span>\r\n                      <span>{book.rating}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Action Button */}\r\n                  <Link\r\n                    to={`/app/library/${book.id}`}\r\n                    className=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200 text-center block\"\r\n                  >\r\n                    View Book\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LibraryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}