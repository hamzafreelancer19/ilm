{"ast":null,"code":"var _jsxFileName = \"/home/shahzad/Desktop/Book_Project/ilm-kademy-frontend/src/pages/library/ChapterViewerPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { ChevronLeftIcon, ChevronRightIcon, BookOpenIcon, CheckCircleIcon, PlayIcon, PauseIcon, SpeakerWaveIcon, SpeakerXMarkIcon, DocumentTextIcon, AcademicCapIcon, LightBulbIcon, HomeIcon, ClipboardDocumentListIcon, ChartBarIcon, Cog6ToothIcon, MagnifyingGlassIcon, BookmarkIcon } from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { API_ENDPOINTS } from '../../config/api';\nimport ChapterSections from '../../components/library/ChapterSections';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChapterViewerPage = () => {\n  _s();\n  var _chapter$sections, _chapter$sections2, _chapter$sections3, _chapter$sections4, _chapter$sections4$cu, _chapter$sections6, _chapter$sections7;\n  const {\n    bookId,\n    chapterId\n  } = useParams();\n  const navigate = useNavigate();\n  const [book, setBook] = useState(null);\n  const [chapter, setChapter] = useState(null);\n  const [chapters, setChapters] = useState([]);\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [showNotes, setShowNotes] = useState(false);\n  const [userNotes, setUserNotes] = useState('');\n  const [completedSections, setCompletedSections] = useState([]);\n  useEffect(() => {\n    fetchBookAndChapter();\n  }, [bookId, chapterId]);\n  const fetchBookAndChapter = async () => {\n    try {\n      // Get auth token from localStorage\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      if (tokens.access) {\n        headers['Authorization'] = `Bearer ${tokens.access}`;\n      }\n      const [bookResponse, chapterResponse, chaptersResponse] = await Promise.all([fetch(`${API_ENDPOINTS.BOOKS}${bookId}/`, {\n        headers\n      }), fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/${chapterId}/`, {\n        headers\n      }), fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/`, {\n        headers\n      })]);\n      if (bookResponse.ok) {\n        const bookData = await bookResponse.json();\n        setBook(bookData);\n      } else if (bookResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock book data due to authentication required');\n\n        // Dynamic mock book data based on book ID\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n      if (chapterResponse.ok) {\n        const chapterData = await chapterResponse.json();\n        setChapter(chapterData);\n\n        // If this is an English book, fetch the detailed sections\n        if (chapterData.book_title && chapterData.sections) {\n          // Set completed sections from reading progress if available\n          if (chapterData.reading_progress) {\n            setCompletedSections(chapterData.reading_progress.completed_sections || []);\n          }\n        }\n      } else if (chapterResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapter data due to authentication required');\n\n        // Dynamic mock chapter data based on book ID and chapter ID\n        const mockChapterData = {\n          1: {\n            // Book ID 1 - English Grammar Fundamentals\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to Grammar',\n                content: {\n                  text: 'Welcome to Basic Grammar Concepts. This chapter will introduce you to the fundamental building blocks of English grammar.',\n                  overview: 'Learn the essential grammar concepts that form the foundation of English language.',\n                  key_concepts: ['Parts of speech', 'Sentence structure', 'Basic rules', 'Common patterns']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding the eight parts of speech and their functions', 'Learning how sentences are structured with subjects and predicates', 'Mastering basic grammar rules for clear communication', 'Building a strong vocabulary foundation'],\n                  main_ideas: ['Grammar fundamentals', 'Language structure', 'Basic patterns']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Identify and classify different parts of speech correctly', 'Understand and apply basic sentence structure rules', 'Apply grammar rules correctly in writing and speaking', 'Build confidence in using English grammar'],\n                  outcomes: ['Knowledge of grammar', 'Improved writing', 'Better communication']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What do you already know about English grammar?', 'How do you think grammar helps in clear communication?', 'What grammar concepts do you find most challenging?'],\n                  purpose: 'These questions help prepare your mind for learning grammar concepts.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'grammar': 'The rules and structure of a language',\n                    'sentence': 'A group of words that express a complete thought',\n                    'structure': 'The way something is organized or arranged'\n                  },\n                  text: 'This section covers essential grammar concepts with practical examples.',\n                  translation: 'Key terms will be explained in simple language for better understanding.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'grammar': 'The system of rules that govern how words are used in a language',\n                    'sentence': 'A grammatical unit that contains a subject and predicate',\n                    'structure': 'The arrangement of and relations between the parts of something'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the eight main parts of speech in English?', 'How does sentence structure work in English?', 'Why is grammar important for effective communication?'],\n                  answers: {\n                    'What are the eight main parts of speech in English?': 'Nouns, verbs, adjectives, adverbs, pronouns, prepositions, conjunctions, and interjections',\n                    'How does sentence structure work in English?': 'A sentence typically has a subject and a predicate',\n                    'Why is grammar important for effective communication?': 'Grammar helps us organize our thoughts clearly and avoid misunderstandings'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which of the following is NOT a part of speech?',\n                    options: ['Noun', 'Verb', 'Sentence', 'Adjective'],\n                    correct_answer: 'Sentence'\n                  }, {\n                    question: 'True or False: Grammar is not important for communication.',\n                    options: ['True', 'False'],\n                    correct_answer: 'False'\n                  }]\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match words with their definitions', 'Fill in the blanks with correct words', 'Identify parts of speech in sentences'],\n                  grammar_exercises: ['Correct grammar errors in sentences', 'Complete sentences with appropriate words', 'Practice subject-verb agreement']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Practice pronunciation of grammar terms', 'Discuss grammar concepts with classmates', 'Explain grammar rules to others'],\n                  discussion_topics: ['How does grammar help in speaking clearly?', 'What grammar mistakes do you commonly make?', 'How can we improve our grammar in daily conversations?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write about your experience learning grammar', 'Create sentences using different parts of speech', 'Explain a grammar rule in your own words'],\n                  writing_tasks: ['Grammar practice exercises with corrections', 'Sentence construction practice', 'Grammar rule explanations in writing']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get the hang of': 'To learn how to do something after practicing',\n                    'piece of cake': 'Something very easy to do',\n                    'hit the books': 'To study hard and seriously'\n                  },\n                  phrasal_verbs: {\n                    'look up': 'To search for information in a book or online',\n                    'figure out': 'To understand or solve something',\n                    'catch on': 'To understand or learn something'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the main purpose of this chapter?',\n                    type: 'multiple_choice',\n                    options: ['To memorize vocabulary', 'To understand grammar basics', 'To pass an exam', 'To complete homework'],\n                    correct_answer: 'To understand grammar basics',\n                    marks: 10\n                  }, {\n                    question: 'Explain how grammar helps in communication.',\n                    type: 'short_answer',\n                    marks: 15\n                  }],\n                  time_limit: '30 minutes',\n                  total_marks: 25\n                }\n              }]\n            }\n          },\n          2: {\n            // Book ID 2 - Advanced English Composition\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to Essay Writing',\n                content: {\n                  text: 'Welcome to Essay Writing Fundamentals. This chapter will teach you how to write clear, organized essays.',\n                  overview: 'Learn the essential elements of essay writing and structure.',\n                  key_concepts: ['Essay structure', 'Organization', 'Clear writing', 'Logical flow']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding essay structure and organization', 'Learning to write clear thesis statements', 'Developing logical arguments with evidence', 'Creating smooth transitions between ideas'],\n                  main_ideas: ['Structure', 'Organization', 'Clarity', 'Logic']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Master essay structure and organization', 'Write clear and focused thesis statements', 'Develop logical arguments with evidence', 'Create smooth transitions between ideas'],\n                  outcomes: ['Essay writing skills', 'Critical thinking', 'Clear communication']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What makes a good essay in your opinion?', 'How do you currently organize your writing?', 'What challenges do you face when writing essays?'],\n                  purpose: 'These questions help prepare your mind for learning essay writing techniques.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'thesis': 'The main argument of an essay',\n                    'structure': 'The organization of ideas',\n                    'transition': 'Words that connect ideas',\n                    'evidence': 'Supporting facts and examples'\n                  },\n                  text: 'This section covers essential essay writing concepts.',\n                  translation: 'Key terms will be explained clearly with examples.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'thesis': 'The central argument of an essay',\n                    'structure': 'The organization of ideas in writing',\n                    'transition': 'Connecting words between ideas',\n                    'evidence': 'Supporting material for arguments'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the main parts of an essay?', 'Why is a thesis statement important?', 'How do transitions improve essay flow?'],\n                  answers: {\n                    'What are the main parts of an essay?': 'Introduction, body, and conclusion',\n                    'Why is a thesis statement important?': 'It provides focus and guides the reader',\n                    'How do transitions improve essay flow?': 'They create smooth connections between ideas'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which part contains the thesis statement?',\n                    options: ['Body', 'Conclusion', 'Introduction'],\n                    correct_answer: 'Introduction'\n                  }]\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Learn essay writing terms', 'Practice academic vocabulary'],\n                  grammar_exercises: ['Improve sentence structure', 'Work on transitions']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Present essay outlines', 'Discuss essay topics'],\n                  discussion_topics: ['How does speaking help writing?', 'What makes good essays?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write a thesis statement', 'Create an essay outline'],\n                  writing_tasks: ['Essay outline creation', 'Thesis statement writing']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get to the point': 'Speak directly about the main issue',\n                    'in a nutshell': 'Summarize briefly'\n                  },\n                  phrasal_verbs: {\n                    'come up with': 'Think of an idea',\n                    'get across': 'Make something understood'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the purpose of an essay introduction?',\n                    type: 'multiple_choice',\n                    options: ['To list points', 'To introduce topic and thesis', 'To provide evidence'],\n                    correct_answer: 'To introduce topic and thesis',\n                    marks: 10\n                  }],\n                  time_limit: '30 minutes',\n                  total_marks: 10\n                }\n              }]\n            }\n          },\n          11: {\n            // Book ID 11 - Master English: Complete Language Course\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to English Fundamentals',\n                content: {\n                  text: 'Welcome to English Fundamentals. This comprehensive chapter covers all essential aspects of English language learning.',\n                  overview: 'Build a strong foundation in English with grammar, vocabulary, and communication skills.',\n                  key_concepts: ['Grammar basics', 'Vocabulary building', 'Communication skills', 'Practical application']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding fundamental English concepts', 'Building comprehensive vocabulary', 'Developing communication skills', 'Applying language in real situations'],\n                  main_ideas: ['Grammar mastery', 'Vocabulary expansion', 'Communication skills']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Master fundamental English grammar', 'Build comprehensive vocabulary', 'Develop communication skills', 'Apply language practically'],\n                  outcomes: ['Grammar proficiency', 'Vocabulary mastery', 'Communication competence']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What are your current English strengths?', 'How do you plan to use English?', 'What areas do you want to improve?'],\n                  purpose: 'Assess your current level and set learning goals.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'fundamental': 'Basic and essential',\n                    'comprehensive': 'Complete and thorough',\n                    'proficiency': 'High degree of skill'\n                  },\n                  text: 'This section covers essential English language concepts.',\n                  translation: 'Key concepts explained clearly with examples.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'fundamental': 'Basic and essential; forming a foundation',\n                    'comprehensive': 'Complete and thorough; covering all aspects',\n                    'proficiency': 'A high degree of skill or expertise'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the components of communication?', 'How does vocabulary improve skills?', 'Why is grammar important?'],\n                  answers: {\n                    'What are the components of communication?': 'Speaking, listening, and understanding',\n                    'How does vocabulary improve skills?': 'Allows precise expression and comprehension',\n                    'Why is grammar important?': 'Provides structure for clear communication'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'What is most important for language learning?',\n                    options: ['Memorizing rules', 'Regular practice', 'Perfect pronunciation'],\n                    correct_answer: 'Regular practice'\n                  }]\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match words with definitions', 'Create sentences'],\n                  grammar_exercises: ['Practice sentence structures', 'Work on verb tenses']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Practice pronunciation', 'Engage in conversations'],\n                  discussion_topics: ['How do you prefer to learn?', 'What challenges do you face?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write about your learning journey', 'Describe your goals'],\n                  writing_tasks: ['Journal writing', 'Short paragraphs']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get the hang of': 'Learn how to do something',\n                    'piece of cake': 'Something very easy'\n                  },\n                  phrasal_verbs: {\n                    'look up': 'Search for information',\n                    'figure out': 'Understand something'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the main goal of this course?',\n                    type: 'multiple_choice',\n                    options: ['To pass exams', 'To build strong foundations', 'To memorize vocabulary'],\n                    correct_answer: 'To build strong foundations',\n                    marks: 15\n                  }],\n                  time_limit: '45 minutes',\n                  total_marks: 15\n                }\n              }]\n            }\n          }\n        };\n\n        // Get the appropriate chapter data based on book ID and chapter ID\n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        setChapter(chapterData);\n      } else if (chaptersResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapters data due to authentication required');\n\n        // Dynamic mock chapters data based on book ID\n        const mockChaptersData = {\n          1: [\n          // English Grammar Fundamentals\n          {\n            id: 1,\n            title: 'Basic Grammar Concepts',\n            description: 'Introduction to parts of speech and sentence structure',\n            duration: '4 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 2,\n            title: 'Essential Vocabulary Building',\n            description: 'Building a strong foundation of English vocabulary',\n            duration: '3 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }],\n          2: [\n          // Advanced English Composition\n          {\n            id: 1,\n            title: 'Essay Writing Fundamentals',\n            description: 'Learn the basics of essay structure and organization',\n            duration: '5 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 2,\n            title: 'Advanced Writing Techniques',\n            description: 'Master sophisticated writing styles and techniques',\n            duration: '6 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }],\n          11: [\n          // Master English: Complete Language Course\n          {\n            id: 1,\n            title: 'English Fundamentals: Building Strong Foundations',\n            description: 'Master the basics of English grammar and vocabulary',\n            duration: '6 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 2,\n            title: 'Effective Communication: Speaking with Confidence',\n            description: 'Develop your speaking and listening skills',\n            duration: '8 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }, {\n            id: 3,\n            title: 'Advanced Writing: Expressing Ideas Clearly',\n            description: 'Learn to write clearly and persuasively',\n            duration: '10 hours',\n            sections_count: 13,\n            is_completed: false,\n            progress: 0\n          }]\n        };\n\n        // Use the appropriate chapters data based on book ID, or default to first book\n        const chaptersData = mockChaptersData[parseInt(bookId)] || mockChaptersData[1];\n        setChapters(chaptersData);\n      }\n\n      // Mock data for development if no data was loaded\n      if (!book) {\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n      if (!chapter) {\n        const mockChapterData = {\n          1: {\n            // Book ID 1\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to Grammar',\n                content: {\n                  text: 'Welcome to Basic Grammar Concepts. This chapter will introduce you to the fundamental building blocks of English grammar.',\n                  overview: 'Learn the essential grammar concepts that form the foundation of English language.',\n                  key_concepts: ['Parts of speech', 'Sentence structure', 'Basic rules', 'Common patterns']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding the eight parts of speech and their functions', 'Learning how sentences are structured with subjects and predicates', 'Mastering basic grammar rules for clear communication', 'Building a strong vocabulary foundation'],\n                  main_ideas: ['Grammar fundamentals', 'Language structure', 'Basic patterns']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Identify and classify different parts of speech correctly', 'Understand and apply basic sentence structure rules', 'Apply grammar rules correctly in writing and speaking', 'Build confidence in using English grammar'],\n                  outcomes: ['Knowledge of grammar', 'Improved writing', 'Better communication']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What do you already know about English grammar?', 'How do you think grammar helps in clear communication?', 'What grammar concepts do you find most challenging?'],\n                  purpose: 'These questions help prepare your mind for learning grammar concepts.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'grammar': 'The rules and structure of a language',\n                    'sentence': 'A group of words that express a complete thought',\n                    'structure': 'The way something is organized or arranged'\n                  },\n                  text: 'This section covers essential grammar concepts with practical examples.',\n                  translation: 'Key terms will be explained in simple language for better understanding.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'grammar': 'The system of rules that govern how words are used in a language',\n                    'sentence': 'A grammatical unit that contains a subject and predicate',\n                    'structure': 'The arrangement of and relations between the parts of something'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the eight main parts of speech in English?', 'How does sentence structure work in English?', 'Why is grammar important for effective communication?'],\n                  answers: {\n                    'What are the eight main parts of speech in English?': 'Nouns, verbs, adjectives, adverbs, pronouns, prepositions, conjunctions, and interjections',\n                    'How does sentence structure work in English?': 'A sentence typically has a subject and a predicate',\n                    'Why is grammar important for effective communication?': 'Grammar helps us organize our thoughts clearly and avoid misunderstandings'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which of the following is NOT a part of speech?',\n                    options: ['Noun', 'Verb', 'Sentence', 'Adjective'],\n                    correct_answer: 'Sentence'\n                  }, {\n                    question: 'True or False: Grammar is not important for communication.',\n                    options: ['True', 'False'],\n                    correct_answer: 'False'\n                  }]\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match words with their definitions', 'Fill in the blanks with correct words', 'Identify parts of speech in sentences'],\n                  grammar_exercises: ['Correct grammar errors in sentences', 'Complete sentences with appropriate words', 'Practice subject-verb agreement']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Practice pronunciation of grammar terms', 'Discuss grammar concepts with classmates', 'Explain grammar rules to others'],\n                  discussion_topics: ['How does grammar help in speaking clearly?', 'What grammar mistakes do you commonly make?', 'How can we improve our grammar in daily conversations?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write about your experience learning grammar', 'Create sentences using different parts of speech', 'Explain a grammar rule in your own words'],\n                  writing_tasks: ['Grammar practice exercises with corrections', 'Sentence construction practice', 'Grammar rule explanations in writing']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get the hang of': 'To learn how to do something after practicing',\n                    'piece of cake': 'Something very easy to do',\n                    'hit the books': 'To study hard and seriously'\n                  },\n                  phrasal_verbs: {\n                    'look up': 'To search for information in a book or online',\n                    'figure out': 'To understand or solve something',\n                    'catch on': 'To understand or learn something'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the main purpose of this chapter?',\n                    type: 'multiple_choice',\n                    options: ['To memorize vocabulary', 'To understand grammar basics', 'To pass an exam', 'To complete homework'],\n                    correct_answer: 'To understand grammar basics',\n                    marks: 10\n                  }, {\n                    question: 'Explain how grammar helps in communication.',\n                    type: 'short_answer',\n                    marks: 15\n                  }],\n                  time_limit: '30 minutes',\n                  total_marks: 25\n                }\n              }]\n            }\n          },\n          2: {\n            // Book ID 2\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to Essay Writing',\n                content: {\n                  text: 'Welcome to Essay Writing Fundamentals. This chapter will teach you how to write clear, organized essays.',\n                  overview: 'Learn the essential elements of essay writing and structure.',\n                  key_concepts: ['Essay structure', 'Organization', 'Clear writing', 'Logical flow']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding essay structure and organization', 'Learning to write clear thesis statements', 'Developing logical arguments with evidence', 'Creating smooth transitions between ideas'],\n                  main_ideas: ['Structure', 'Organization', 'Clarity', 'Logic']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Master essay structure and organization', 'Write clear and focused thesis statements', 'Develop logical arguments with evidence', 'Create smooth transitions between ideas'],\n                  outcomes: ['Essay writing skills', 'Critical thinking', 'Clear communication']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What makes a good essay in your opinion?', 'How do you currently organize your writing?', 'What challenges do you face when writing essays?'],\n                  purpose: 'These questions help prepare your mind for learning essay writing techniques.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'thesis': 'The main argument of an essay',\n                    'structure': 'The organization of ideas',\n                    'transition': 'Words that connect ideas',\n                    'evidence': 'Supporting facts and examples'\n                  },\n                  text: 'This section covers essential essay writing concepts.',\n                  translation: 'Key terms will be explained clearly with examples.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'thesis': 'The central argument of an essay',\n                    'structure': 'The organization of ideas in writing',\n                    'transition': 'Connecting words between ideas',\n                    'evidence': 'Supporting material for arguments'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the main parts of an essay?', 'Why is a thesis statement important?', 'How do transitions improve essay flow?'],\n                  answers: {\n                    'What are the main parts of an essay?': 'Introduction, body, and conclusion',\n                    'Why is a thesis statement important?': 'It provides focus and guides the reader',\n                    'How do transitions improve essay flow?': 'They create smooth connections between ideas'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'Which part contains the thesis statement?',\n                    options: ['Body', 'Conclusion', 'Introduction'],\n                    correct_answer: 'Introduction'\n                  }]\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Learn essay writing terms', 'Practice academic vocabulary'],\n                  grammar_exercises: ['Improve sentence structure', 'Work on transitions']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Present essay outlines', 'Discuss essay topics'],\n                  discussion_topics: ['How does speaking help writing?', 'What makes good essays?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write a thesis statement', 'Create an essay outline'],\n                  writing_tasks: ['Essay outline creation', 'Thesis statement writing']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get to the point': 'Speak directly about the main issue',\n                    'in a nutshell': 'Summarize briefly'\n                  },\n                  phrasal_verbs: {\n                    'come up with': 'Think of an idea',\n                    'get across': 'Make something understood'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the purpose of an essay introduction?',\n                    type: 'multiple_choice',\n                    options: ['To list points', 'To introduce topic and thesis', 'To provide evidence'],\n                    correct_answer: 'To introduce topic and thesis',\n                    marks: 10\n                  }],\n                  time_limit: '30 minutes',\n                  total_marks: 10\n                }\n              }]\n            }\n          },\n          11: {\n            // Book ID 11\n            1: {\n              // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: [{\n                id: 1,\n                kind: 'INTRODUCTION',\n                title: 'Introduction to English Fundamentals',\n                content: {\n                  text: 'Welcome to English Fundamentals. This comprehensive chapter covers all essential aspects of English language learning.',\n                  overview: 'Build a strong foundation in English with grammar, vocabulary, and communication skills.',\n                  key_concepts: ['Grammar basics', 'Vocabulary building', 'Communication skills', 'Practical application']\n                }\n              }, {\n                id: 2,\n                kind: 'POINT_WISE_SUMMARY',\n                title: 'Point-wise Summary',\n                content: {\n                  points: ['Understanding fundamental English concepts', 'Building comprehensive vocabulary', 'Developing communication skills', 'Applying language in real situations'],\n                  main_ideas: ['Grammar mastery', 'Vocabulary expansion', 'Communication skills']\n                }\n              }, {\n                id: 3,\n                kind: 'SLOS',\n                title: 'Student Learning Objectives',\n                content: {\n                  objectives: ['Master fundamental English grammar', 'Build comprehensive vocabulary', 'Develop communication skills', 'Apply language practically'],\n                  outcomes: ['Grammar proficiency', 'Vocabulary mastery', 'Communication competence']\n                }\n              }, {\n                id: 4,\n                kind: 'PRE_READING_QUESTIONS',\n                title: 'Pre-reading Questions',\n                content: {\n                  questions: ['What are your current English strengths?', 'How do you plan to use English?', 'What areas do you want to improve?'],\n                  purpose: 'Assess your current level and set learning goals.'\n                }\n              }, {\n                id: 5,\n                kind: 'VOCABULARY_TEXT_TRANSLATION',\n                title: 'Vocabulary, Text & Translation',\n                content: {\n                  vocabulary: {\n                    'fundamental': 'Basic and essential',\n                    'comprehensive': 'Complete and thorough',\n                    'proficiency': 'High degree of skill'\n                  },\n                  text: 'This section covers essential English language concepts.',\n                  translation: 'Key concepts explained clearly with examples.'\n                }\n              }, {\n                id: 6,\n                kind: 'GLOSSARY',\n                title: 'Glossary',\n                content: {\n                  terms: {\n                    'fundamental': 'Basic and essential; forming a foundation',\n                    'comprehensive': 'Complete and thorough; covering all aspects',\n                    'proficiency': 'A high degree of skill or expertise'\n                  }\n                }\n              }, {\n                id: 7,\n                kind: 'EXERCISE_SHORT_QUESTIONS',\n                title: 'Exercise: Short Questions',\n                content: {\n                  questions: ['What are the components of communication?', 'How does vocabulary improve skills?', 'Why is grammar important?'],\n                  answers: {\n                    'What are the components of communication?': 'Speaking, listening, and understanding',\n                    'How does vocabulary improve skills?': 'Allows precise expression and comprehension',\n                    'Why is grammar important?': 'Provides structure for clear communication'\n                  }\n                }\n              }, {\n                id: 8,\n                kind: 'EXERCISE_OBJECTIVES',\n                title: 'Exercise: Objectives',\n                content: {\n                  questions: [{\n                    question: 'What is most important for language learning?',\n                    options: ['Memorizing rules', 'Regular practice', 'Perfect pronunciation'],\n                    correct_answer: 'Regular practice'\n                  }]\n                }\n              }, {\n                id: 9,\n                kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                title: 'Exercise: Vocabulary and Grammar',\n                content: {\n                  vocabulary_exercises: ['Match words with definitions', 'Create sentences'],\n                  grammar_exercises: ['Practice sentence structures', 'Work on verb tenses']\n                }\n              }, {\n                id: 10,\n                kind: 'EXERCISE_ORAL_COMMUNICATION',\n                title: 'Exercise: Oral Communication',\n                content: {\n                  speaking_activities: ['Practice pronunciation', 'Engage in conversations'],\n                  discussion_topics: ['How do you prefer to learn?', 'What challenges do you face?']\n                }\n              }, {\n                id: 11,\n                kind: 'EXERCISE_WRITING_SKILLS',\n                title: 'Exercise: Writing Skills',\n                content: {\n                  writing_prompts: ['Write about your learning journey', 'Describe your goals'],\n                  writing_tasks: ['Journal writing', 'Short paragraphs']\n                }\n              }, {\n                id: 12,\n                kind: 'IDIOMS_PHRASAL_VERBS',\n                title: 'Idioms and Phrasal Verbs of the Lesson',\n                content: {\n                  idioms: {\n                    'get the hang of': 'Learn how to do something',\n                    'piece of cake': 'Something very easy'\n                  },\n                  phrasal_verbs: {\n                    'look up': 'Search for information',\n                    'figure out': 'Understand something'\n                  }\n                }\n              }, {\n                id: 13,\n                kind: 'ASSESSMENT_TEST',\n                title: 'Assessment Test',\n                content: {\n                  questions: [{\n                    question: 'What is the main goal of this course?',\n                    type: 'multiple_choice',\n                    options: ['To pass exams', 'To build strong foundations', 'To memorize vocabulary'],\n                    correct_answer: 'To build strong foundations',\n                    marks: 15\n                  }],\n                  time_limit: '45 minutes',\n                  total_marks: 15\n                }\n              }]\n            }\n          }\n        };\n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        setChapter(chapterData);\n      }\n      if (chapters.length === 0) {\n        const mockChaptersData = {\n          1: [\n          // English Grammar Fundamentals\n          {\n            id: 1,\n            title: 'Basic Grammar Concepts'\n          }, {\n            id: 2,\n            title: 'Essential Vocabulary Building'\n          }],\n          2: [\n          // Advanced English Composition\n          {\n            id: 1,\n            title: 'Essay Writing Fundamentals'\n          }, {\n            id: 2,\n            title: 'Advanced Writing Techniques'\n          }],\n          11: [\n          // Master English: Complete Language Course\n          {\n            id: 1,\n            title: 'English Fundamentals: Building Strong Foundations'\n          }, {\n            id: 2,\n            title: 'Effective Communication: Speaking with Confidence'\n          }, {\n            id: 3,\n            title: 'Advanced Writing: Expressing Ideas Clearly'\n          }]\n        };\n        const chaptersData = mockChaptersData[parseInt(bookId)] || mockChaptersData[1];\n        setChapters(chaptersData);\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Failed to load chapter content');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const currentChapterIndex = chapters.findIndex(ch => ch.id === parseInt(chapterId));\n  const hasPreviousChapter = currentChapterIndex > 0;\n  const hasNextChapter = currentChapterIndex < chapters.length - 1;\n  const navigateToChapter = direction => {\n    if (direction === 'prev' && hasPreviousChapter) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      navigate(`/app/library/${bookId}/chapter/${prevChapter.id}`);\n    } else if (direction === 'next' && hasNextChapter) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      navigate(`/app/library/${bookId}/chapter/${nextChapter.id}`);\n    }\n  };\n  const handleSectionComplete = (sectionId, sectionIndex) => {\n    // Add section to completed sections\n    if (!completedSections.includes(sectionId)) {\n      setCompletedSections(prev => [...prev, sectionId]);\n\n      // Progress is now calculated dynamically from completedSections\n\n      // Auto-expand next section if available\n      if (sectionIndex < chapter.sections.length - 1) {\n        setCurrentSection(sectionIndex + 1);\n      }\n      toast.success('Section completed!');\n    }\n  };\n  const toggleAudio = () => {\n    setIsPlaying(!isPlaying);\n    // TODO: Implement actual audio playback\n    toast.success(isPlaying ? 'Audio paused' : 'Audio playing');\n  };\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n    // TODO: Implement actual mute functionality\n    toast.success(isMuted ? 'Audio unmuted' : 'Audio muted');\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading chapter...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1455,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1454,\n      columnNumber: 7\n    }, this);\n  }\n  if (!chapter || !book) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"Chapter not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"The chapter you're looking for doesn't exist.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1469,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1466,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1465,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/app/library/${bookId}`,\n              className: \"text-indigo-600 hover:text-indigo-500 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1488,\n                columnNumber: 17\n              }, this), \"Back to Book\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1484,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1491,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: chapter.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1492,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors duration-200 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(PlayIcon, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1498,\n                columnNumber: 17\n              }, this), \"Mark Complete\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1497,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1496,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1482,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1481,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1480,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-64 bg-white border-r border-gray-200 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                className: \"h-6 w-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1513,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1512,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-bold text-gray-900\",\n              children: \"SmartLearn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1515,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1511,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1510,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white font-bold text-lg\",\n                children: [Math.round(completedSections.length / (((_chapter$sections = chapter.sections) === null || _chapter$sections === void 0 ? void 0 : _chapter$sections.length) || 1) * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1523,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1522,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-blue-900 mb-1\",\n              children: \"Overall Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-700 mb-2\",\n              children: \"Keep learning!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1528,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-600\",\n              children: [completedSections.length, \" of \", ((_chapter$sections2 = chapter.sections) === null || _chapter$sections2 === void 0 ? void 0 : _chapter$sections2.length) || 0, \" chapters completed\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1529,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1521,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1520,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(HomeIcon, {\n                className: \"h-5 w-5 mr-3 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1539,\n                columnNumber: 17\n              }, this), \"Dashboard\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1538,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n                className: \"h-5 w-5 mr-3 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 17\n              }, this), \"Book Library\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1542,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(ClipboardDocumentListIcon, {\n                className: \"h-5 w-5 mr-3 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1547,\n                columnNumber: 17\n              }, this), \"My Assignments\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1546,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(ChartBarIcon, {\n                className: \"h-5 w-5 mr-3 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 17\n              }, this), \"Progress\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1550,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                className: \"h-5 w-5 mr-3 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 17\n              }, this), \"AI Tutor\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\",\n                children: \"NEW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1557,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1554,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(Cog6ToothIcon, {\n                className: \"h-5 w-5 mr-3 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 17\n              }, this), \"Settings\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1559,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1537,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1536,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-purple-50 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-purple-900 mb-2\",\n              children: \"Premium Plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-purple-700 mb-3\",\n              children: \"Full access to all features\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1570,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full bg-purple-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200\",\n              children: \"Manage Plan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1571,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1568,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1567,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1508,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-80 bg-white border-r border-gray-200 p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-4\",\n            children: \"Chapter Sections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1582,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: (_chapter$sections3 = chapter.sections) === null || _chapter$sections3 === void 0 ? void 0 : _chapter$sections3.map((section, index) => {\n              const isCompleted = completedSections.includes(section.id);\n              const isCurrent = index === currentSection;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentSection(index),\n                className: `w-full text-left p-3 rounded-md transition-colors duration-200 ${isCurrent ? 'bg-green-100 text-green-700 border border-green-200' : isCompleted ? 'bg-blue-50 text-blue-700 border border-blue-200' : 'hover:bg-gray-50 text-gray-700'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: [index + 1, \". \", section.kind ? section.kind.replace(/_/g, ' ') : section.title]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1601,\n                    columnNumber: 23\n                  }, this), isCompleted && /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                    className: \"h-5 w-5 text-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1605,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 21\n                }, this)\n              }, section.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1589,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1583,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1581,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 bg-white p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1620,\n                  columnNumber: 19\n                }, this), \"AI Help\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1619,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(SpeakerWaveIcon, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1624,\n                  columnNumber: 19\n                }, this), \"Read Aloud\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1623,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(BookmarkIcon, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1628,\n                  columnNumber: 19\n                }, this), \"Bookmark\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1627,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1618,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-green-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors duration-200 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(PlayIcon, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1634,\n                columnNumber: 17\n              }, this), \"Mark Complete\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1633,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1617,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900 mb-4\",\n              children: (_chapter$sections4 = chapter.sections) !== null && _chapter$sections4 !== void 0 && (_chapter$sections4$cu = _chapter$sections4[currentSection]) !== null && _chapter$sections4$cu !== void 0 && _chapter$sections4$cu.kind ? chapter.sections[currentSection].kind.replace(/_/g, ' ') : 'Introduction'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1641,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prose max-w-none\",\n              children: /*#__PURE__*/_jsxDEV(ChapterSections, {\n                sections: chapter.sections || [],\n                onSectionComplete: handleSectionComplete,\n                completedSections: completedSections\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1649,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1648,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1640,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentSection(Math.max(0, currentSection - 1)),\n              disabled: currentSection === 0,\n              className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1664,\n                columnNumber: 17\n              }, this), \"Previous Section\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1659,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _chapter$sections5;\n                return setCurrentSection(Math.min((((_chapter$sections5 = chapter.sections) === null || _chapter$sections5 === void 0 ? void 0 : _chapter$sections5.length) || 1) - 1, currentSection + 1));\n              },\n              disabled: currentSection >= (((_chapter$sections6 = chapter.sections) === null || _chapter$sections6 === void 0 ? void 0 : _chapter$sections6.length) || 1) - 1,\n              className: \"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n              children: [\"Next Section\", /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n                className: \"h-5 w-5 ml-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1674,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1668,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1658,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Personal Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: userNotes,\n              onChange: e => setUserNotes(e.target.value),\n              placeholder: \"Add your notes for this section...\",\n              className: \"w-full p-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none\",\n              rows: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1681,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mt-3 bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200\",\n              children: \"Save Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1688,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1679,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1615,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1579,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 bg-white border-l border-gray-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search chapters, books...\",\n              className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1700,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MagnifyingGlassIcon, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1705,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1699,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1698,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-blue-900 mb-2\",\n              children: \"AI Tutor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1712,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-blue-700 mb-3\",\n              children: \"Get help with this section\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1713,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors duration-200\",\n              children: \"Ask AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1714,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1711,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-green-900 mb-2\",\n              children: \"Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1720,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-green-700 mb-3\",\n              children: \"Track your learning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1721,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: [Math.round(completedSections.length / (((_chapter$sections7 = chapter.sections) === null || _chapter$sections7 === void 0 ? void 0 : _chapter$sections7.length) || 1) * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1723,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-green-600\",\n                children: \"Complete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1726,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1722,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1719,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1710,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1696,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1506,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-6 right-6\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-14 h-14 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition-colors duration-200 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(LightBulbIcon, {\n          className: \"h-6 w-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1736,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1735,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1734,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1478,\n    columnNumber: 5\n  }, this);\n};\n_s(ChapterViewerPage, \"4w9DuGQGvSQxslC0n6ffIMOyJl0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ChapterViewerPage;\nexport default ChapterViewerPage;\nvar _c;\n$RefreshReg$(_c, \"ChapterViewerPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","ChevronLeftIcon","ChevronRightIcon","BookOpenIcon","CheckCircleIcon","PlayIcon","PauseIcon","SpeakerWaveIcon","SpeakerXMarkIcon","DocumentTextIcon","AcademicCapIcon","LightBulbIcon","HomeIcon","ClipboardDocumentListIcon","ChartBarIcon","Cog6ToothIcon","MagnifyingGlassIcon","BookmarkIcon","toast","API_ENDPOINTS","ChapterSections","jsxDEV","_jsxDEV","ChapterViewerPage","_s","_chapter$sections","_chapter$sections2","_chapter$sections3","_chapter$sections4","_chapter$sections4$cu","_chapter$sections6","_chapter$sections7","bookId","chapterId","navigate","book","setBook","chapter","setChapter","chapters","setChapters","currentSection","setCurrentSection","isLoading","setIsLoading","isPlaying","setIsPlaying","isMuted","setIsMuted","showNotes","setShowNotes","userNotes","setUserNotes","completedSections","setCompletedSections","fetchBookAndChapter","tokens","JSON","parse","localStorage","getItem","headers","access","bookResponse","chapterResponse","chaptersResponse","Promise","all","fetch","BOOKS","ok","bookData","json","status","console","log","mockBookData","id","title","author","parseInt","chapterData","book_title","sections","reading_progress","completed_sections","mockChapterData","description","kind","content","text","overview","key_concepts","points","main_ideas","objectives","outcomes","questions","purpose","vocabulary","translation","terms","answers","question","options","correct_answer","vocabulary_exercises","grammar_exercises","speaking_activities","discussion_topics","writing_prompts","writing_tasks","idioms","phrasal_verbs","type","marks","time_limit","total_marks","bookChapters","mockChaptersData","duration","sections_count","is_completed","progress","chaptersData","length","error","currentChapterIndex","findIndex","ch","hasPreviousChapter","hasNextChapter","navigateToChapter","direction","prevChapter","nextChapter","handleSectionComplete","sectionId","sectionIndex","includes","prev","success","toggleAudio","toggleMute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","Math","round","href","map","section","index","isCompleted","isCurrent","onClick","replace","onSectionComplete","max","disabled","_chapter$sections5","min","value","onChange","e","target","placeholder","rows","_c","$RefreshReg$"],"sources":["/home/shahzad/Desktop/Book_Project/ilm-kademy-frontend/src/pages/library/ChapterViewerPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { \n  ChevronLeftIcon, \n  ChevronRightIcon, \n  BookOpenIcon,\n  CheckCircleIcon,\n  PlayIcon,\n  PauseIcon,\n  SpeakerWaveIcon,\n  SpeakerXMarkIcon,\n  DocumentTextIcon,\n  AcademicCapIcon,\n  LightBulbIcon,\n  HomeIcon,\n  ClipboardDocumentListIcon,\n  ChartBarIcon,\n  Cog6ToothIcon,\n  MagnifyingGlassIcon,\n  BookmarkIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport { API_ENDPOINTS } from '../../config/api';\nimport ChapterSections from '../../components/library/ChapterSections';\n\nconst ChapterViewerPage = () => {\n  const { bookId, chapterId } = useParams();\n  const navigate = useNavigate();\n  const [book, setBook] = useState(null);\n  const [chapter, setChapter] = useState(null);\n  const [chapters, setChapters] = useState([]);\n  const [currentSection, setCurrentSection] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n\n  const [showNotes, setShowNotes] = useState(false);\n  const [userNotes, setUserNotes] = useState('');\n  const [completedSections, setCompletedSections] = useState([]);\n\n  useEffect(() => {\n    fetchBookAndChapter();\n  }, [bookId, chapterId]);\n\n  const fetchBookAndChapter = async () => {\n    try {\n      // Get auth token from localStorage\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\n      const headers = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (tokens.access) {\n        headers['Authorization'] = `Bearer ${tokens.access}`;\n      }\n\n      const [bookResponse, chapterResponse, chaptersResponse] = await Promise.all([\n        fetch(`${API_ENDPOINTS.BOOKS}${bookId}/`, { headers }),\n        fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/${chapterId}/`, { headers }),\n        fetch(`${API_ENDPOINTS.BOOKS}${bookId}/chapters/`, { headers })\n      ]);\n\n      if (bookResponse.ok) {\n        const bookData = await bookResponse.json();\n        setBook(bookData);\n      } else if (bookResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock book data due to authentication required');\n        \n        // Dynamic mock book data based on book ID\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        \n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n\n      if (chapterResponse.ok) {\n        const chapterData = await chapterResponse.json();\n        setChapter(chapterData);\n        \n        // If this is an English book, fetch the detailed sections\n        if (chapterData.book_title && chapterData.sections) {\n          // Set completed sections from reading progress if available\n          if (chapterData.reading_progress) {\n            setCompletedSections(chapterData.reading_progress.completed_sections || []);\n          }\n        }\n      } else if (chapterResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapter data due to authentication required');\n        \n        // Dynamic mock chapter data based on book ID and chapter ID\n        const mockChapterData = {\n          1: { // Book ID 1 - English Grammar Fundamentals\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to Grammar',\n                  content: {\n                    text: 'Welcome to Basic Grammar Concepts. This chapter will introduce you to the fundamental building blocks of English grammar.',\n                    overview: 'Learn the essential grammar concepts that form the foundation of English language.',\n                    key_concepts: ['Parts of speech', 'Sentence structure', 'Basic rules', 'Common patterns']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding the eight parts of speech and their functions',\n                      'Learning how sentences are structured with subjects and predicates',\n                      'Mastering basic grammar rules for clear communication',\n                      'Building a strong vocabulary foundation'\n                    ],\n                    main_ideas: ['Grammar fundamentals', 'Language structure', 'Basic patterns']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Identify and classify different parts of speech correctly',\n                      'Understand and apply basic sentence structure rules',\n                      'Apply grammar rules correctly in writing and speaking',\n                      'Build confidence in using English grammar'\n                    ],\n                    outcomes: ['Knowledge of grammar', 'Improved writing', 'Better communication']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What do you already know about English grammar?',\n                      'How do you think grammar helps in clear communication?',\n                      'What grammar concepts do you find most challenging?'\n                    ],\n                    purpose: 'These questions help prepare your mind for learning grammar concepts.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'grammar': 'The rules and structure of a language',\n                      'sentence': 'A group of words that express a complete thought',\n                      'structure': 'The way something is organized or arranged'\n                    },\n                    text: 'This section covers essential grammar concepts with practical examples.',\n                    translation: 'Key terms will be explained in simple language for better understanding.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'grammar': 'The system of rules that govern how words are used in a language',\n                      'sentence': 'A grammatical unit that contains a subject and predicate',\n                      'structure': 'The arrangement of and relations between the parts of something'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the eight main parts of speech in English?',\n                      'How does sentence structure work in English?',\n                      'Why is grammar important for effective communication?'\n                    ],\n                    answers: {\n                      'What are the eight main parts of speech in English?': 'Nouns, verbs, adjectives, adverbs, pronouns, prepositions, conjunctions, and interjections',\n                      'How does sentence structure work in English?': 'A sentence typically has a subject and a predicate',\n                      'Why is grammar important for effective communication?': 'Grammar helps us organize our thoughts clearly and avoid misunderstandings'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which of the following is NOT a part of speech?',\n                        options: ['Noun', 'Verb', 'Sentence', 'Adjective'],\n                        correct_answer: 'Sentence'\n                      },\n                      {\n                        question: 'True or False: Grammar is not important for communication.',\n                        options: ['True', 'False'],\n                        correct_answer: 'False'\n                      }\n                    ]\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: [\n                      'Match words with their definitions',\n                      'Fill in the blanks with correct words',\n                      'Identify parts of speech in sentences'\n                    ],\n                    grammar_exercises: [\n                      'Correct grammar errors in sentences',\n                      'Complete sentences with appropriate words',\n                      'Practice subject-verb agreement'\n                    ]\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: [\n                      'Practice pronunciation of grammar terms',\n                      'Discuss grammar concepts with classmates',\n                      'Explain grammar rules to others'\n                    ],\n                    discussion_topics: [\n                      'How does grammar help in speaking clearly?',\n                      'What grammar mistakes do you commonly make?',\n                      'How can we improve our grammar in daily conversations?'\n                    ]\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: [\n                      'Write about your experience learning grammar',\n                      'Create sentences using different parts of speech',\n                      'Explain a grammar rule in your own words'\n                    ],\n                    writing_tasks: [\n                      'Grammar practice exercises with corrections',\n                      'Sentence construction practice',\n                      'Grammar rule explanations in writing'\n                    ]\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get the hang of': 'To learn how to do something after practicing',\n                      'piece of cake': 'Something very easy to do',\n                      'hit the books': 'To study hard and seriously'\n                    },\n                    phrasal_verbs: {\n                      'look up': 'To search for information in a book or online',\n                      'figure out': 'To understand or solve something',\n                      'catch on': 'To understand or learn something'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the main purpose of this chapter?',\n                        type: 'multiple_choice',\n                        options: ['To memorize vocabulary', 'To understand grammar basics', 'To pass an exam', 'To complete homework'],\n                        correct_answer: 'To understand grammar basics',\n                        marks: 10\n                      },\n                      {\n                        question: 'Explain how grammar helps in communication.',\n                        type: 'short_answer',\n                        marks: 15\n                      }\n                    ],\n                    time_limit: '30 minutes',\n                    total_marks: 25\n                  }\n                }\n              ]\n            }\n          },\n          2: { // Book ID 2 - Advanced English Composition\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to Essay Writing',\n                  content: {\n                    text: 'Welcome to Essay Writing Fundamentals. This chapter will teach you how to write clear, organized essays.',\n                    overview: 'Learn the essential elements of essay writing and structure.',\n                    key_concepts: ['Essay structure', 'Organization', 'Clear writing', 'Logical flow']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding essay structure and organization',\n                      'Learning to write clear thesis statements',\n                      'Developing logical arguments with evidence',\n                      'Creating smooth transitions between ideas'\n                    ],\n                    main_ideas: ['Structure', 'Organization', 'Clarity', 'Logic']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Master essay structure and organization',\n                      'Write clear and focused thesis statements',\n                      'Develop logical arguments with evidence',\n                      'Create smooth transitions between ideas'\n                    ],\n                    outcomes: ['Essay writing skills', 'Critical thinking', 'Clear communication']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What makes a good essay in your opinion?',\n                      'How do you currently organize your writing?',\n                      'What challenges do you face when writing essays?'\n                    ],\n                    purpose: 'These questions help prepare your mind for learning essay writing techniques.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'thesis': 'The main argument of an essay',\n                      'structure': 'The organization of ideas',\n                      'transition': 'Words that connect ideas',\n                      'evidence': 'Supporting facts and examples'\n                    },\n                    text: 'This section covers essential essay writing concepts.',\n                    translation: 'Key terms will be explained clearly with examples.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'thesis': 'The central argument of an essay',\n                      'structure': 'The organization of ideas in writing',\n                      'transition': 'Connecting words between ideas',\n                      'evidence': 'Supporting material for arguments'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the main parts of an essay?',\n                      'Why is a thesis statement important?',\n                      'How do transitions improve essay flow?'\n                    ],\n                    answers: {\n                      'What are the main parts of an essay?': 'Introduction, body, and conclusion',\n                      'Why is a thesis statement important?': 'It provides focus and guides the reader',\n                      'How do transitions improve essay flow?': 'They create smooth connections between ideas'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which part contains the thesis statement?',\n                        options: ['Body', 'Conclusion', 'Introduction'],\n                        correct_answer: 'Introduction'\n                      }\n                    ]\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: ['Learn essay writing terms', 'Practice academic vocabulary'],\n                    grammar_exercises: ['Improve sentence structure', 'Work on transitions']\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: ['Present essay outlines', 'Discuss essay topics'],\n                    discussion_topics: ['How does speaking help writing?', 'What makes good essays?']\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: ['Write a thesis statement', 'Create an essay outline'],\n                    writing_tasks: ['Essay outline creation', 'Thesis statement writing']\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get to the point': 'Speak directly about the main issue',\n                      'in a nutshell': 'Summarize briefly'\n                    },\n                    phrasal_verbs: {\n                      'come up with': 'Think of an idea',\n                      'get across': 'Make something understood'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the purpose of an essay introduction?',\n                        type: 'multiple_choice',\n                        options: ['To list points', 'To introduce topic and thesis', 'To provide evidence'],\n                        correct_answer: 'To introduce topic and thesis',\n                        marks: 10\n                      }\n                    ],\n                    time_limit: '30 minutes',\n                    total_marks: 10\n                  }\n                }\n              ]\n            }\n          },\n          11: { // Book ID 11 - Master English: Complete Language Course\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to English Fundamentals',\n                  content: {\n                    text: 'Welcome to English Fundamentals. This comprehensive chapter covers all essential aspects of English language learning.',\n                    overview: 'Build a strong foundation in English with grammar, vocabulary, and communication skills.',\n                    key_concepts: ['Grammar basics', 'Vocabulary building', 'Communication skills', 'Practical application']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding fundamental English concepts',\n                      'Building comprehensive vocabulary',\n                      'Developing communication skills',\n                      'Applying language in real situations'\n                    ],\n                    main_ideas: ['Grammar mastery', 'Vocabulary expansion', 'Communication skills']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Master fundamental English grammar',\n                      'Build comprehensive vocabulary',\n                      'Develop communication skills',\n                      'Apply language practically'\n                    ],\n                    outcomes: ['Grammar proficiency', 'Vocabulary mastery', 'Communication competence']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What are your current English strengths?',\n                      'How do you plan to use English?',\n                      'What areas do you want to improve?'\n                    ],\n                    purpose: 'Assess your current level and set learning goals.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'fundamental': 'Basic and essential',\n                      'comprehensive': 'Complete and thorough',\n                      'proficiency': 'High degree of skill'\n                    },\n                    text: 'This section covers essential English language concepts.',\n                    translation: 'Key concepts explained clearly with examples.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'fundamental': 'Basic and essential; forming a foundation',\n                      'comprehensive': 'Complete and thorough; covering all aspects',\n                      'proficiency': 'A high degree of skill or expertise'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the components of communication?',\n                      'How does vocabulary improve skills?',\n                      'Why is grammar important?'\n                    ],\n                    answers: {\n                      'What are the components of communication?': 'Speaking, listening, and understanding',\n                      'How does vocabulary improve skills?': 'Allows precise expression and comprehension',\n                      'Why is grammar important?': 'Provides structure for clear communication'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is most important for language learning?',\n                        options: ['Memorizing rules', 'Regular practice', 'Perfect pronunciation'],\n                        correct_answer: 'Regular practice'\n                      }\n                    ]\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: ['Match words with definitions', 'Create sentences'],\n                    grammar_exercises: ['Practice sentence structures', 'Work on verb tenses']\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: ['Practice pronunciation', 'Engage in conversations'],\n                    discussion_topics: ['How do you prefer to learn?', 'What challenges do you face?']\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: ['Write about your learning journey', 'Describe your goals'],\n                    writing_tasks: ['Journal writing', 'Short paragraphs']\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get the hang of': 'Learn how to do something',\n                      'piece of cake': 'Something very easy'\n                    },\n                    phrasal_verbs: {\n                      'look up': 'Search for information',\n                      'figure out': 'Understand something'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the main goal of this course?',\n                        type: 'multiple_choice',\n                        options: ['To pass exams', 'To build strong foundations', 'To memorize vocabulary'],\n                        correct_answer: 'To build strong foundations',\n                        marks: 15\n                      }\n                    ],\n                    time_limit: '45 minutes',\n                    total_marks: 15\n                  }\n                }\n              ]\n            }\n          }\n        };\n        \n        // Get the appropriate chapter data based on book ID and chapter ID\n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        \n        setChapter(chapterData);\n      } else if (chaptersResponse.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock chapters data due to authentication required');\n        \n        // Dynamic mock chapters data based on book ID\n        const mockChaptersData = {\n          1: [ // English Grammar Fundamentals\n            {\n              id: 1,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure',\n              duration: '4 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 2,\n              title: 'Essential Vocabulary Building',\n              description: 'Building a strong foundation of English vocabulary',\n              duration: '3 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            }\n          ],\n          2: [ // Advanced English Composition\n            {\n              id: 1,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization',\n              duration: '5 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 2,\n              title: 'Advanced Writing Techniques',\n              description: 'Master sophisticated writing styles and techniques',\n              duration: '6 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            }\n          ],\n          11: [ // Master English: Complete Language Course\n            {\n              id: 1,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary',\n              duration: '6 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 2,\n              title: 'Effective Communication: Speaking with Confidence',\n              description: 'Develop your speaking and listening skills',\n              duration: '8 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            },\n            {\n              id: 3,\n              title: 'Advanced Writing: Expressing Ideas Clearly',\n              description: 'Learn to write clearly and persuasively',\n              duration: '10 hours',\n              sections_count: 13,\n              is_completed: false,\n              progress: 0\n            }\n          ]\n        };\n        \n        // Use the appropriate chapters data based on book ID, or default to first book\n        const chaptersData = mockChaptersData[parseInt(bookId)] || mockChaptersData[1];\n        setChapters(chaptersData);\n      }\n\n      // Mock data for development if no data was loaded\n      if (!book) {\n        const mockBookData = {\n          1: {\n            id: bookId,\n            title: 'English Grammar Fundamentals',\n            author: 'Dr. Sarah Johnson'\n          },\n          2: {\n            id: bookId,\n            title: 'Advanced English Composition',\n            author: 'Prof. Michael Chen'\n          },\n          11: {\n            id: bookId,\n            title: 'Master English: Complete Language Course',\n            author: 'Dr. Emily Rodriguez'\n          }\n        };\n        \n        const bookData = mockBookData[parseInt(bookId)] || mockBookData[1];\n        setBook(bookData);\n      }\n\n      if (!chapter) {\n        const mockChapterData = {\n          1: { // Book ID 1\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Basic Grammar Concepts',\n              description: 'Introduction to parts of speech and sentence structure in English.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to Grammar',\n                  content: {\n                    text: 'Welcome to Basic Grammar Concepts. This chapter will introduce you to the fundamental building blocks of English grammar.',\n                    overview: 'Learn the essential grammar concepts that form the foundation of English language.',\n                    key_concepts: ['Parts of speech', 'Sentence structure', 'Basic rules', 'Common patterns']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding the eight parts of speech and their functions',\n                      'Learning how sentences are structured with subjects and predicates',\n                      'Mastering basic grammar rules for clear communication',\n                      'Building a strong vocabulary foundation'\n                    ],\n                    main_ideas: ['Grammar fundamentals', 'Language structure', 'Basic patterns']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Identify and classify different parts of speech correctly',\n                      'Understand and apply basic sentence structure rules',\n                      'Apply grammar rules correctly in writing and speaking',\n                      'Build confidence in using English grammar'\n                    ],\n                    outcomes: ['Knowledge of grammar', 'Improved writing', 'Better communication']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What do you already know about English grammar?',\n                      'How do you think grammar helps in clear communication?',\n                      'What grammar concepts do you find most challenging?'\n                    ],\n                    purpose: 'These questions help prepare your mind for learning grammar concepts.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'grammar': 'The rules and structure of a language',\n                      'sentence': 'A group of words that express a complete thought',\n                      'structure': 'The way something is organized or arranged'\n                    },\n                    text: 'This section covers essential grammar concepts with practical examples.',\n                    translation: 'Key terms will be explained in simple language for better understanding.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'grammar': 'The system of rules that govern how words are used in a language',\n                      'sentence': 'A grammatical unit that contains a subject and predicate',\n                      'structure': 'The arrangement of and relations between the parts of something'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the eight main parts of speech in English?',\n                      'How does sentence structure work in English?',\n                      'Why is grammar important for effective communication?'\n                    ],\n                    answers: {\n                      'What are the eight main parts of speech in English?': 'Nouns, verbs, adjectives, adverbs, pronouns, prepositions, conjunctions, and interjections',\n                      'How does sentence structure work in English?': 'A sentence typically has a subject and a predicate',\n                      'Why is grammar important for effective communication?': 'Grammar helps us organize our thoughts clearly and avoid misunderstandings'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which of the following is NOT a part of speech?',\n                        options: ['Noun', 'Verb', 'Sentence', 'Adjective'],\n                        correct_answer: 'Sentence'\n                      },\n                      {\n                        question: 'True or False: Grammar is not important for communication.',\n                        options: ['True', 'False'],\n                        correct_answer: 'False'\n                      }\n                    ]\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: [\n                      'Match words with their definitions',\n                      'Fill in the blanks with correct words',\n                      'Identify parts of speech in sentences'\n                    ],\n                    grammar_exercises: [\n                      'Correct grammar errors in sentences',\n                      'Complete sentences with appropriate words',\n                      'Practice subject-verb agreement'\n                    ]\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: [\n                      'Practice pronunciation of grammar terms',\n                      'Discuss grammar concepts with classmates',\n                      'Explain grammar rules to others'\n                    ],\n                    discussion_topics: [\n                      'How does grammar help in speaking clearly?',\n                      'What grammar mistakes do you commonly make?',\n                      'How can we improve our grammar in daily conversations?'\n                    ]\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: [\n                      'Write about your experience learning grammar',\n                      'Create sentences using different parts of speech',\n                      'Explain a grammar rule in your own words'\n                    ],\n                    writing_tasks: [\n                      'Grammar practice exercises with corrections',\n                      'Sentence construction practice',\n                      'Grammar rule explanations in writing'\n                    ]\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get the hang of': 'To learn how to do something after practicing',\n                      'piece of cake': 'Something very easy to do',\n                      'hit the books': 'To study hard and seriously'\n                    },\n                    phrasal_verbs: {\n                      'look up': 'To search for information in a book or online',\n                      'figure out': 'To understand or solve something',\n                      'catch on': 'To understand or learn something'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the main purpose of this chapter?',\n                        type: 'multiple_choice',\n                        options: ['To memorize vocabulary', 'To understand grammar basics', 'To pass an exam', 'To complete homework'],\n                        correct_answer: 'To understand grammar basics',\n                        marks: 10\n                      },\n                      {\n                        question: 'Explain how grammar helps in communication.',\n                        type: 'short_answer',\n                        marks: 15\n                      }\n                    ],\n                    time_limit: '30 minutes',\n                    total_marks: 25\n                  }\n                }\n              ]\n            }\n          },\n          2: { // Book ID 2\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'Essay Writing Fundamentals',\n              description: 'Learn the basics of essay structure and organization.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to Essay Writing',\n                  content: {\n                    text: 'Welcome to Essay Writing Fundamentals. This chapter will teach you how to write clear, organized essays.',\n                    overview: 'Learn the essential elements of essay writing and structure.',\n                    key_concepts: ['Essay structure', 'Organization', 'Clear writing', 'Logical flow']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding essay structure and organization',\n                      'Learning to write clear thesis statements',\n                      'Developing logical arguments with evidence',\n                      'Creating smooth transitions between ideas'\n                    ],\n                    main_ideas: ['Structure', 'Organization', 'Clarity', 'Logic']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Master essay structure and organization',\n                      'Write clear and focused thesis statements',\n                      'Develop logical arguments with evidence',\n                      'Create smooth transitions between ideas'\n                    ],\n                    outcomes: ['Essay writing skills', 'Critical thinking', 'Clear communication']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What makes a good essay in your opinion?',\n                      'How do you currently organize your writing?',\n                      'What challenges do you face when writing essays?'\n                    ],\n                    purpose: 'These questions help prepare your mind for learning essay writing techniques.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'thesis': 'The main argument of an essay',\n                      'structure': 'The organization of ideas',\n                      'transition': 'Words that connect ideas',\n                      'evidence': 'Supporting facts and examples'\n                    },\n                    text: 'This section covers essential essay writing concepts.',\n                    translation: 'Key terms will be explained clearly with examples.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'thesis': 'The central argument of an essay',\n                      'structure': 'The organization of ideas in writing',\n                      'transition': 'Connecting words between ideas',\n                      'evidence': 'Supporting material for arguments'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the main parts of an essay?',\n                      'Why is a thesis statement important?',\n                      'How do transitions improve essay flow?'\n                    ],\n                    answers: {\n                      'What are the main parts of an essay?': 'Introduction, body, and conclusion',\n                      'Why is a thesis statement important?': 'It provides focus and guides the reader',\n                      'How do transitions improve essay flow?': 'They create smooth connections between ideas'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'Which part contains the thesis statement?',\n                        options: ['Body', 'Conclusion', 'Introduction'],\n                        correct_answer: 'Introduction'\n                      }\n                    ]\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: ['Learn essay writing terms', 'Practice academic vocabulary'],\n                    grammar_exercises: ['Improve sentence structure', 'Work on transitions']\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: ['Present essay outlines', 'Discuss essay topics'],\n                    discussion_topics: ['How does speaking help writing?', 'What makes good essays?']\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: ['Write a thesis statement', 'Create an essay outline'],\n                    writing_tasks: ['Essay outline creation', 'Thesis statement writing']\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get to the point': 'Speak directly about the main issue',\n                      'in a nutshell': 'Summarize briefly'\n                    },\n                    phrasal_verbs: {\n                      'come up with': 'Think of an idea',\n                      'get across': 'Make something understood'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the purpose of an essay introduction?',\n                        type: 'multiple_choice',\n                        options: ['To list points', 'To introduce topic and thesis', 'To provide evidence'],\n                        correct_answer: 'To introduce topic and thesis',\n                        marks: 10\n                      }\n                    ],\n                    time_limit: '30 minutes',\n                    total_marks: 10\n                  }\n                }\n              ]\n            }\n          },\n          11: { // Book ID 11\n            1: { // Chapter 1\n              id: chapterId,\n              title: 'English Fundamentals: Building Strong Foundations',\n              description: 'Master the basics of English grammar and vocabulary.',\n              sections: [\n                {\n                  id: 1,\n                  kind: 'INTRODUCTION',\n                  title: 'Introduction to English Fundamentals',\n                  content: {\n                    text: 'Welcome to English Fundamentals. This comprehensive chapter covers all essential aspects of English language learning.',\n                    overview: 'Build a strong foundation in English with grammar, vocabulary, and communication skills.',\n                    key_concepts: ['Grammar basics', 'Vocabulary building', 'Communication skills', 'Practical application']\n                  }\n                },\n                {\n                  id: 2,\n                  kind: 'POINT_WISE_SUMMARY',\n                  title: 'Point-wise Summary',\n                  content: {\n                    points: [\n                      'Understanding fundamental English concepts',\n                      'Building comprehensive vocabulary',\n                      'Developing communication skills',\n                      'Applying language in real situations'\n                    ],\n                    main_ideas: ['Grammar mastery', 'Vocabulary expansion', 'Communication skills']\n                  }\n                },\n                {\n                  id: 3,\n                  kind: 'SLOS',\n                  title: 'Student Learning Objectives',\n                  content: {\n                    objectives: [\n                      'Master fundamental English grammar',\n                      'Build comprehensive vocabulary',\n                      'Develop communication skills',\n                      'Apply language practically'\n                    ],\n                    outcomes: ['Grammar proficiency', 'Vocabulary mastery', 'Communication competence']\n                  }\n                },\n                {\n                  id: 4,\n                  kind: 'PRE_READING_QUESTIONS',\n                  title: 'Pre-reading Questions',\n                  content: {\n                    questions: [\n                      'What are your current English strengths?',\n                      'How do you plan to use English?',\n                      'What areas do you want to improve?'\n                    ],\n                    purpose: 'Assess your current level and set learning goals.'\n                  }\n                },\n                {\n                  id: 5,\n                  kind: 'VOCABULARY_TEXT_TRANSLATION',\n                  title: 'Vocabulary, Text & Translation',\n                  content: {\n                    vocabulary: {\n                      'fundamental': 'Basic and essential',\n                      'comprehensive': 'Complete and thorough',\n                      'proficiency': 'High degree of skill'\n                    },\n                    text: 'This section covers essential English language concepts.',\n                    translation: 'Key concepts explained clearly with examples.'\n                  }\n                },\n                {\n                  id: 6,\n                  kind: 'GLOSSARY',\n                  title: 'Glossary',\n                  content: {\n                    terms: {\n                      'fundamental': 'Basic and essential; forming a foundation',\n                      'comprehensive': 'Complete and thorough; covering all aspects',\n                      'proficiency': 'A high degree of skill or expertise'\n                    }\n                  }\n                },\n                {\n                  id: 7,\n                  kind: 'EXERCISE_SHORT_QUESTIONS',\n                  title: 'Exercise: Short Questions',\n                  content: {\n                    questions: [\n                      'What are the components of communication?',\n                      'How does vocabulary improve skills?',\n                      'Why is grammar important?'\n                    ],\n                    answers: {\n                      'What are the components of communication?': 'Speaking, listening, and understanding',\n                      'How does vocabulary improve skills?': 'Allows precise expression and comprehension',\n                      'Why is grammar important?': 'Provides structure for clear communication'\n                    }\n                  }\n                },\n                {\n                  id: 8,\n                  kind: 'EXERCISE_OBJECTIVES',\n                  title: 'Exercise: Objectives',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is most important for language learning?',\n                        options: ['Memorizing rules', 'Regular practice', 'Perfect pronunciation'],\n                        correct_answer: 'Regular practice'\n                      }\n                    ]\n                  }\n                },\n                {\n                  id: 9,\n                  kind: 'EXERCISE_VOCABULARY_GRAMMAR',\n                  title: 'Exercise: Vocabulary and Grammar',\n                  content: {\n                    vocabulary_exercises: ['Match words with definitions', 'Create sentences'],\n                    grammar_exercises: ['Practice sentence structures', 'Work on verb tenses']\n                  }\n                },\n                {\n                  id: 10,\n                  kind: 'EXERCISE_ORAL_COMMUNICATION',\n                  title: 'Exercise: Oral Communication',\n                  content: {\n                    speaking_activities: ['Practice pronunciation', 'Engage in conversations'],\n                    discussion_topics: ['How do you prefer to learn?', 'What challenges do you face?']\n                  }\n                },\n                {\n                  id: 11,\n                  kind: 'EXERCISE_WRITING_SKILLS',\n                  title: 'Exercise: Writing Skills',\n                  content: {\n                    writing_prompts: ['Write about your learning journey', 'Describe your goals'],\n                    writing_tasks: ['Journal writing', 'Short paragraphs']\n                  }\n                },\n                {\n                  id: 12,\n                  kind: 'IDIOMS_PHRASAL_VERBS',\n                  title: 'Idioms and Phrasal Verbs of the Lesson',\n                  content: {\n                    idioms: {\n                      'get the hang of': 'Learn how to do something',\n                      'piece of cake': 'Something very easy'\n                    },\n                    phrasal_verbs: {\n                      'look up': 'Search for information',\n                      'figure out': 'Understand something'\n                    }\n                  }\n                },\n                {\n                  id: 13,\n                  kind: 'ASSESSMENT_TEST',\n                  title: 'Assessment Test',\n                  content: {\n                    questions: [\n                      {\n                        question: 'What is the main goal of this course?',\n                        type: 'multiple_choice',\n                        options: ['To pass exams', 'To build strong foundations', 'To memorize vocabulary'],\n                        correct_answer: 'To build strong foundations',\n                        marks: 15\n                      }\n                    ],\n                    time_limit: '45 minutes',\n                    total_marks: 15\n                  }\n                }\n              ]\n            }\n          }\n        };\n        \n        const bookChapters = mockChapterData[parseInt(bookId)] || {};\n        const chapterData = bookChapters[parseInt(chapterId)] || bookChapters[1] || {\n          id: chapterId,\n          title: 'English Language Learning',\n          description: 'Learn English fundamentals and communication skills.',\n          sections: []\n        };\n        \n        setChapter(chapterData);\n      }\n\n      if (chapters.length === 0) {\n        const mockChaptersData = {\n          1: [ // English Grammar Fundamentals\n            { id: 1, title: 'Basic Grammar Concepts' },\n            { id: 2, title: 'Essential Vocabulary Building' }\n          ],\n          2: [ // Advanced English Composition\n            { id: 1, title: 'Essay Writing Fundamentals' },\n            { id: 2, title: 'Advanced Writing Techniques' }\n          ],\n          11: [ // Master English: Complete Language Course\n            { id: 1, title: 'English Fundamentals: Building Strong Foundations' },\n            { id: 2, title: 'Effective Communication: Speaking with Confidence' },\n            { id: 3, title: 'Advanced Writing: Expressing Ideas Clearly' }\n          ]\n        };\n        \n        const chaptersData = mockChaptersData[parseInt(bookId)] || mockChaptersData[1];\n        setChapters(chaptersData);\n      }\n\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Failed to load chapter content');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const currentChapterIndex = chapters.findIndex(ch => ch.id === parseInt(chapterId));\n  const hasPreviousChapter = currentChapterIndex > 0;\n  const hasNextChapter = currentChapterIndex < chapters.length - 1;\n\n  const navigateToChapter = (direction) => {\n    if (direction === 'prev' && hasPreviousChapter) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      navigate(`/app/library/${bookId}/chapter/${prevChapter.id}`);\n    } else if (direction === 'next' && hasNextChapter) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      navigate(`/app/library/${bookId}/chapter/${nextChapter.id}`);\n    }\n  };\n\n  const handleSectionComplete = (sectionId, sectionIndex) => {\n    // Add section to completed sections\n    if (!completedSections.includes(sectionId)) {\n      setCompletedSections(prev => [...prev, sectionId]);\n      \n      // Progress is now calculated dynamically from completedSections\n      \n      // Auto-expand next section if available\n      if (sectionIndex < chapter.sections.length - 1) {\n        setCurrentSection(sectionIndex + 1);\n      }\n      \n      toast.success('Section completed!');\n    }\n  };\n\n  const toggleAudio = () => {\n    setIsPlaying(!isPlaying);\n    // TODO: Implement actual audio playback\n    toast.success(isPlaying ? 'Audio paused' : 'Audio playing');\n  };\n\n  const toggleMute = () => {\n    setIsMuted(!isMuted);\n    // TODO: Implement actual mute functionality\n    toast.success(isMuted ? 'Audio unmuted' : 'Audio muted');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading chapter...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!chapter || !book) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <BookOpenIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Chapter not found</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            The chapter you're looking for doesn't exist.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Top Header Bar */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <Link\n                to={`/app/library/${bookId}`}\n                className=\"text-indigo-600 hover:text-indigo-500 flex items-center\"\n              >\n                <ChevronLeftIcon className=\"h-5 w-5 mr-1\" />\n                Back to Book\n              </Link>\n              <span className=\"text-gray-400\">/</span>\n              <span className=\"text-gray-600\">{chapter.title}</span>\n            </div>\n            \n            {/* Right Side Actions */}\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors duration-200 flex items-center\">\n                <PlayIcon className=\"h-4 w-4 mr-2\" />\n                Mark Complete\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex h-screen\">\n        {/* Left Sidebar - Navigation & Progress */}\n        <div className=\"w-64 bg-white border-r border-gray-200 flex flex-col\">\n          {/* SmartLearn Logo */}\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center\">\n                <AcademicCapIcon className=\"h-6 w-6 text-white\" />\n              </div>\n              <h1 className=\"text-xl font-bold text-gray-900\">SmartLearn</h1>\n            </div>\n          </div>\n\n          {/* Overall Progress Card */}\n          <div className=\"p-6 border-b border-gray-200\">\n            <div className=\"bg-blue-50 rounded-lg p-4 text-center\">\n              <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-3\">\n                <span className=\"text-white font-bold text-lg\">\n                  {Math.round((completedSections.length / (chapter.sections?.length || 1)) * 100)}%\n                </span>\n              </div>\n              <h3 className=\"text-sm font-medium text-blue-900 mb-1\">Overall Progress</h3>\n              <p className=\"text-xs text-blue-700 mb-2\">Keep learning!</p>\n              <p className=\"text-xs text-blue-600\">\n                {completedSections.length} of {chapter.sections?.length || 0} chapters completed\n              </p>\n            </div>\n          </div>\n\n          {/* Navigation Links */}\n          <div className=\"flex-1 p-6\">\n            <nav className=\"space-y-2\">\n              <a href=\"#\" className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\">\n                <HomeIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                Dashboard\n              </a>\n              <a href=\"#\" className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\">\n                <BookOpenIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                Book Library\n              </a>\n              <a href=\"#\" className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\">\n                <ClipboardDocumentListIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                My Assignments\n              </a>\n              <a href=\"#\" className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\">\n                <ChartBarIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                Progress\n              </a>\n              <a href=\"#\" className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\">\n                <AcademicCapIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                AI Tutor\n                <span className=\"ml-2 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">NEW</span>\n              </a>\n              <a href=\"#\" className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100\">\n                <Cog6ToothIcon className=\"h-5 w-5 mr-3 text-gray-400\" />\n                Settings\n              </a>\n            </nav>\n          </div>\n\n          {/* Premium Plan Card */}\n          <div className=\"p-6 border-t border-gray-200\">\n            <div className=\"bg-purple-50 rounded-lg p-4 text-center\">\n              <h3 className=\"text-sm font-medium text-purple-900 mb-2\">Premium Plan</h3>\n              <p className=\"text-xs text-purple-700 mb-3\">Full access to all features</p>\n              <button className=\"w-full bg-purple-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors duration-200\">\n                Manage Plan\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Middle Column - Chapter Sections + Content */}\n        <div className=\"flex-1 flex\">\n          {/* Chapter Sections List */}\n          <div className=\"w-80 bg-white border-r border-gray-200 p-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Chapter Sections</h3>\n            <div className=\"space-y-2\">\n              {chapter.sections?.map((section, index) => {\n                const isCompleted = completedSections.includes(section.id);\n                const isCurrent = index === currentSection;\n                \n                return (\n                  <button\n                    key={section.id}\n                    onClick={() => setCurrentSection(index)}\n                    className={`w-full text-left p-3 rounded-md transition-colors duration-200 ${\n                      isCurrent\n                        ? 'bg-green-100 text-green-700 border border-green-200'\n                        : isCompleted\n                        ? 'bg-blue-50 text-blue-700 border border-blue-200'\n                        : 'hover:bg-gray-50 text-gray-700'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium\">\n                        {index + 1}. {section.kind ? section.kind.replace(/_/g, ' ') : section.title}\n                      </span>\n                      {isCompleted && (\n                        <CheckCircleIcon className=\"h-5 w-5 text-blue-500\" />\n                      )}\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Main Content Area */}\n          <div className=\"flex-1 bg-white p-6\">\n            {/* Action Buttons */}\n            <div className=\"flex items-center justify-between mb-6\">\n              <div className=\"flex items-center space-x-3\">\n                <button className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\">\n                  <AcademicCapIcon className=\"h-5 w-5 mr-2\" />\n                  AI Help\n                </button>\n                <button className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\">\n                  <SpeakerWaveIcon className=\"h-5 w-5 mr-2\" />\n                  Read Aloud\n                </button>\n                <button className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200\">\n                  <BookmarkIcon className=\"h-5 w-5 mr-2\" />\n                  Bookmark\n                </button>\n              </div>\n              \n              <button className=\"bg-green-600 text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-green-700 transition-colors duration-200 flex items-center\">\n                <PlayIcon className=\"h-4 w-4 mr-2\" />\n                Mark Complete\n              </button>\n            </div>\n\n            {/* Section Content */}\n            <div className=\"mb-8\">\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">\n                {chapter.sections?.[currentSection]?.kind ? \n                  chapter.sections[currentSection].kind.replace(/_/g, ' ') : \n                  'Introduction'\n                }\n              </h1>\n              \n              <div className=\"prose max-w-none\">\n                <ChapterSections \n                  sections={chapter.sections || []}\n                  onSectionComplete={handleSectionComplete}\n                  completedSections={completedSections}\n                />\n              </div>\n            </div>\n\n            {/* Navigation Buttons */}\n            <div className=\"flex items-center justify-between mb-8\">\n              <button\n                onClick={() => setCurrentSection(Math.max(0, currentSection - 1))}\n                disabled={currentSection === 0}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n              >\n                <ChevronLeftIcon className=\"h-5 w-5 mr-2\" />\n                Previous Section\n              </button>\n              \n              <button\n                onClick={() => setCurrentSection(Math.min((chapter.sections?.length || 1) - 1, currentSection + 1))}\n                disabled={currentSection >= (chapter.sections?.length || 1) - 1}\n                className=\"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n              >\n                Next Section\n                <ChevronRightIcon className=\"h-5 w-5 ml-2\" />\n              </button>\n            </div>\n\n            {/* Personal Notes */}\n            <div className=\"bg-gray-50 rounded-lg p-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Personal Notes</h3>\n              <textarea\n                value={userNotes}\n                onChange={(e) => setUserNotes(e.target.value)}\n                placeholder=\"Add your notes for this section...\"\n                className=\"w-full p-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none\"\n                rows={4}\n              />\n              <button className=\"mt-3 bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200\">\n                Save Notes\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Column - Search & Utilities */}\n        <div className=\"w-80 bg-white border-l border-gray-200 p-6\">\n          {/* Search Bar */}\n          <div className=\"mb-6\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                placeholder=\"Search chapters, books...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              />\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"space-y-4\">\n            <div className=\"bg-blue-50 rounded-lg p-4\">\n              <h4 className=\"text-sm font-medium text-blue-900 mb-2\">AI Tutor</h4>\n              <p className=\"text-xs text-blue-700 mb-3\">Get help with this section</p>\n              <button className=\"w-full bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors duration-200\">\n                Ask AI\n              </button>\n            </div>\n\n            <div className=\"bg-green-50 rounded-lg p-4\">\n              <h4 className=\"text-sm font-medium text-green-900 mb-2\">Progress</h4>\n              <p className=\"text-xs text-green-700 mb-3\">Track your learning</p>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold text-green-600\">\n                  {Math.round((completedSections.length / (chapter.sections?.length || 1)) * 100)}%\n                </div>\n                <p className=\"text-xs text-green-600\">Complete</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Floating Action Button */}\n      <div className=\"fixed bottom-6 right-6\">\n        <button className=\"w-14 h-14 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition-colors duration-200 flex items-center justify-center\">\n          <LightBulbIcon className=\"h-6 w-6\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ChapterViewerPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}