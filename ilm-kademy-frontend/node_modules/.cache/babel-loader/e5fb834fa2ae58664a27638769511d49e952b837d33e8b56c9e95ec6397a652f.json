{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{MagnifyingGlassIcon,BookOpenIcon,AcademicCapIcon,ClockIcon,StarIcon,UserGroupIcon}from'@heroicons/react/24/outline';import{StarIcon as StarIconSolid}from'@heroicons/react/24/solid';import toast from'react-hot-toast';import{API_ENDPOINTS}from'../../config/api';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LibraryPage=()=>{const[books,setBooks]=useState([]);const[filteredBooks,setFilteredBooks]=useState([]);const[isLoading,setIsLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[selectedSubject,setSelectedSubject]=useState('all');const[selectedLanguage,setSelectedLanguage]=useState('all');const[selectedLevel,setSelectedLevel]=useState('all');const subjects=[{id:'all',name:'All Subjects'},{id:'mathematics',name:'Mathematics'},{id:'science',name:'Science'},{id:'history',name:'History'},{id:'literature',name:'Literature'},{id:'geography',name:'Geography'},{id:'computer_science',name:'Computer Science'},{id:'languages',name:'Languages'}];const languages=[{id:'all',name:'All Languages'},{id:'english',name:'English'},{id:'urdu',name:'Urdu'},{id:'arabic',name:'Arabic'},{id:'french',name:'French'},{id:'spanish',name:'Spanish'}];const levels=[{id:'all',name:'All Levels'},{id:'beginner',name:'Beginner'},{id:'intermediate',name:'Intermediate'},{id:'advanced',name:'Advanced'}];useEffect(()=>{fetchBooks();},[]);useEffect(()=>{filterBooks();},[books,searchTerm,selectedSubject,selectedLanguage,selectedLevel]);const fetchBooks=async()=>{try{// Get auth token from localStorage\nconst tokens=JSON.parse(localStorage.getItem('tokens')||'{}');const headers={'Content-Type':'application/json'};if(tokens.access){headers['Authorization']=\"Bearer \".concat(tokens.access);}const response=await fetch(API_ENDPOINTS.BOOKS,{headers});if(response.ok){const data=await response.json();setBooks(data.results||[]);}else if(response.status===401){// If unauthorized, show mock data for development\nconsole.log('Using mock data due to authentication required');setBooks([{id:1,title:'Advanced Mathematics',author:'Dr. Sarah Johnson',subject:'mathematics',language:'english',level:'advanced',description:'Comprehensive guide to advanced mathematical concepts including calculus, linear algebra, and differential equations.',cover_image:'https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=400&h=500&fit=crop',chapters_count:12,rating:4.8,students_enrolled:1250},{id:2,title:'Physics Fundamentals',author:'Prof. Michael Chen',subject:'science',language:'english',level:'intermediate',description:'Essential physics concepts covering mechanics, thermodynamics, and electromagnetism with practical examples.',cover_image:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=500&fit=crop',chapters_count:15,rating:4.6,students_enrolled:980},{id:3,title:'Islamic History',author:'Dr. Ahmed Hassan',subject:'history',language:'urdu',level:'intermediate',description:'Comprehensive overview of Islamic civilization, from the early caliphates to modern times.',cover_image:'https://images.unsplash.com/photo-1542810634-71277d95dcbb?w=400&h=500&fit=crop',chapters_count:18,rating:4.9,students_enrolled:2100},{id:4,title:'Programming Basics',author:'Dr. Emily Rodriguez',subject:'computer_science',language:'english',level:'beginner',description:'Learn programming fundamentals with Python, covering variables, loops, functions, and object-oriented programming.',cover_image:'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=500&fit=crop',chapters_count:10,rating:4.7,students_enrolled:3200}]);}}catch(error){console.error('Error fetching books:',error);toast.error('Failed to load books');}finally{setIsLoading(false);}};const filterBooks=()=>{let filtered=[...books];// Search filter\nif(searchTerm){filtered=filtered.filter(book=>book.title.toLowerCase().includes(searchTerm.toLowerCase())||book.author.toLowerCase().includes(searchTerm.toLowerCase())||book.description.toLowerCase().includes(searchTerm.toLowerCase()));}// Subject filter\nif(selectedSubject!=='all'){filtered=filtered.filter(book=>book.subject===selectedSubject);}// Language filter\nif(selectedLanguage!=='all'){filtered=filtered.filter(book=>book.subject===selectedLanguage);}// Level filter\nif(selectedLevel!=='all'){filtered=filtered.filter(book=>book.level===selectedLevel);}setFilteredBooks(filtered);};const getSubjectIcon=subject=>{switch(subject){case'mathematics':return/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-6 w-6 text-blue-600\"});case'science':return/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-6 w-6 text-green-600\"});case'history':return/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-6 w-6 text-amber-600\"});case'computer_science':return/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-6 w-6 text-purple-600\"});default:return/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-6 w-6 text-gray-600\"});}};const getLevelBadge=level=>{const colors={beginner:'bg-green-100 text-green-800',intermediate:'bg-yellow-100 text-yellow-800',advanced:'bg-red-100 text-red-800'};return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(colors[level]||colors.beginner),children:level.charAt(0).toUpperCase()+level.slice(1)});};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading library...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Explore our collection of educational books and resources\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[filteredBooks.length,\" of \",books.length,\" books\"]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search books, authors, or topics...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:selectedSubject,onChange:e=>setSelectedSubject(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:subjects.map(subject=>/*#__PURE__*/_jsx(\"option\",{value:subject.id,children:subject.name},subject.id))})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:selectedLevel,onChange:e=>setSelectedLevel(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\",children:levels.map(level=>/*#__PURE__*/_jsx(\"option\",{value:level.id,children:level.name},level.id))})})]})}),filteredBooks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No books found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Try adjusting your search or filter criteria.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:filteredBooks.map(book=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-3 aspect-h-4 bg-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{src:book.cover_image,alt:book.title,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[getSubjectIcon(book.subject),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-500 uppercase\",children:book.subject.replace('_',' ')})]}),getLevelBadge(book.level)]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-1 line-clamp-2\",children:book.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:[\"by \",book.author]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-3 line-clamp-2\",children:book.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[book.chapters_count,\" chapters\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"span\",{children:book.rating})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/app/library/\".concat(book.id),className:\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200 text-center block\",children:\"View Book\"})]})]},book.id))})]})]});};export default LibraryPage;","map":{"version":3,"names":["React","useState","useEffect","Link","MagnifyingGlassIcon","BookOpenIcon","AcademicCapIcon","ClockIcon","StarIcon","UserGroupIcon","StarIconSolid","toast","API_ENDPOINTS","useAuth","jsx","_jsx","jsxs","_jsxs","LibraryPage","books","setBooks","filteredBooks","setFilteredBooks","isLoading","setIsLoading","searchTerm","setSearchTerm","selectedSubject","setSelectedSubject","selectedLanguage","setSelectedLanguage","selectedLevel","setSelectedLevel","subjects","id","name","languages","levels","fetchBooks","filterBooks","tokens","JSON","parse","localStorage","getItem","headers","access","concat","response","fetch","BOOKS","ok","data","json","results","status","console","log","title","author","subject","language","level","description","cover_image","chapters_count","rating","students_enrolled","error","filtered","filter","book","toLowerCase","includes","getSubjectIcon","className","getLevelBadge","colors","beginner","intermediate","advanced","children","charAt","toUpperCase","slice","length","type","placeholder","value","onChange","e","target","map","src","alt","replace","to"],"sources":["/home/shahzad/Desktop/Book_Project/ilm-kademy-frontend/src/pages/library/LibraryPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MagnifyingGlassIcon, BookOpenIcon, AcademicCapIcon, ClockIcon, StarIcon, UserGroupIcon } from '@heroicons/react/24/outline';\nimport { StarIcon as StarIconSolid } from '@heroicons/react/24/solid';\nimport toast from 'react-hot-toast';\nimport { API_ENDPOINTS } from '../../config/api';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst LibraryPage = () => {\n  const [books, setBooks] = useState([]);\n  const [filteredBooks, setFilteredBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedSubject, setSelectedSubject] = useState('all');\n  const [selectedLanguage, setSelectedLanguage] = useState('all');\n  const [selectedLevel, setSelectedLevel] = useState('all');\n\n  const subjects = [\n    { id: 'all', name: 'All Subjects' },\n    { id: 'mathematics', name: 'Mathematics' },\n    { id: 'science', name: 'Science' },\n    { id: 'history', name: 'History' },\n    { id: 'literature', name: 'Literature' },\n    { id: 'geography', name: 'Geography' },\n    { id: 'computer_science', name: 'Computer Science' },\n    { id: 'languages', name: 'Languages' }\n  ];\n\n  const languages = [\n    { id: 'all', name: 'All Languages' },\n    { id: 'english', name: 'English' },\n    { id: 'urdu', name: 'Urdu' },\n    { id: 'arabic', name: 'Arabic' },\n    { id: 'french', name: 'French' },\n    { id: 'spanish', name: 'Spanish' }\n  ];\n\n  const levels = [\n    { id: 'all', name: 'All Levels' },\n    { id: 'beginner', name: 'Beginner' },\n    { id: 'intermediate', name: 'Intermediate' },\n    { id: 'advanced', name: 'Advanced' }\n  ];\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  useEffect(() => {\n    filterBooks();\n  }, [books, searchTerm, selectedSubject, selectedLanguage, selectedLevel]);\n\n  const fetchBooks = async () => {\n    try {\n      // Get auth token from localStorage\n      const tokens = JSON.parse(localStorage.getItem('tokens') || '{}');\n      const headers = {\n        'Content-Type': 'application/json',\n      };\n      \n      if (tokens.access) {\n        headers['Authorization'] = `Bearer ${tokens.access}`;\n      }\n\n      const response = await fetch(API_ENDPOINTS.BOOKS, { headers });\n      if (response.ok) {\n        const data = await response.json();\n        setBooks(data.results || []);\n            } else if (response.status === 401) {\n        // If unauthorized, show mock data for development\n        console.log('Using mock data due to authentication required');\n        setBooks([\n          {\n            id: 1,\n            title: 'Advanced Mathematics',\n            author: 'Dr. Sarah Johnson',\n            subject: 'mathematics',\n            language: 'english',\n            level: 'advanced',\n            description: 'Comprehensive guide to advanced mathematical concepts including calculus, linear algebra, and differential equations.',\n            cover_image: 'https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=400&h=500&fit=crop',\n            chapters_count: 12,\n            rating: 4.8,\n            students_enrolled: 1250\n          },\n          {\n            id: 2,\n            title: 'Physics Fundamentals',\n            author: 'Prof. Michael Chen',\n            subject: 'science',\n            language: 'english',\n            level: 'intermediate',\n            description: 'Essential physics concepts covering mechanics, thermodynamics, and electromagnetism with practical examples.',\n            cover_image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=500&fit=crop',\n            chapters_count: 15,\n            rating: 4.6,\n            students_enrolled: 980\n          },\n          {\n            id: 3,\n            title: 'Islamic History',\n            author: 'Dr. Ahmed Hassan',\n            subject: 'history',\n            language: 'urdu',\n            level: 'intermediate',\n            description: 'Comprehensive overview of Islamic civilization, from the early caliphates to modern times.',\n            cover_image: 'https://images.unsplash.com/photo-1542810634-71277d95dcbb?w=400&h=500&fit=crop',\n            chapters_count: 18,\n            rating: 4.9,\n            students_enrolled: 2100\n          },\n          {\n            id: 4,\n            title: 'Programming Basics',\n            author: 'Dr. Emily Rodriguez',\n            subject: 'computer_science',\n            language: 'english',\n            level: 'beginner',\n            description: 'Learn programming fundamentals with Python, covering variables, loops, functions, and object-oriented programming.',\n            cover_image: 'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=500&fit=crop',\n            chapters_count: 10,\n            rating: 4.7,\n            students_enrolled: 3200\n          }\n        ]);\n      }\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      toast.error('Failed to load books');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const filterBooks = () => {\n    let filtered = [...books];\n\n    // Search filter\n    if (searchTerm) {\n      filtered = filtered.filter(book =>\n        book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        book.author.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        book.description.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Subject filter\n    if (selectedSubject !== 'all') {\n      filtered = filtered.filter(book => book.subject === selectedSubject);\n    }\n\n    // Language filter\n    if (selectedLanguage !== 'all') {\n      filtered = filtered.filter(book => book.subject === selectedLanguage);\n    }\n\n    // Level filter\n    if (selectedLevel !== 'all') {\n      filtered = filtered.filter(book => book.level === selectedLevel);\n    }\n\n    setFilteredBooks(filtered);\n  };\n\n  const getSubjectIcon = (subject) => {\n    switch (subject) {\n      case 'mathematics':\n        return <AcademicCapIcon className=\"h-6 w-6 text-blue-600\" />;\n      case 'science':\n        return <AcademicCapIcon className=\"h-6 w-6 text-green-600\" />;\n      case 'history':\n        return <BookOpenIcon className=\"h-6 w-6 text-amber-600\" />;\n      case 'computer_science':\n        return <AcademicCapIcon className=\"h-6 w-6 text-purple-600\" />;\n      default:\n        return <BookOpenIcon className=\"h-6 w-6 text-gray-600\" />;\n    }\n  };\n\n  const getLevelBadge = (level) => {\n    const colors = {\n      beginner: 'bg-green-100 text-green-800',\n      intermediate: 'bg-yellow-100 text-yellow-800',\n      advanced: 'bg-red-100 text-red-800'\n    };\n    \n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colors[level] || colors.beginner}`}>\n        {level.charAt(0).toUpperCase() + level.slice(1)}\n      </span>\n    );\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading library...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Library</h1>\n              <p className=\"mt-2 text-gray-600\">\n                Explore our collection of educational books and resources\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm text-gray-500\">\n                {filteredBooks.length} of {books.length} books\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Search and Filters */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4\">\n            {/* Search */}\n            <div className=\"lg:col-span-2\">\n              <div className=\"relative\">\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search books, authors, or topics...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                />\n              </div>\n            </div>\n\n            {/* Subject Filter */}\n            <div>\n              <select\n                value={selectedSubject}\n                onChange={(e) => setSelectedSubject(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                {subjects.map(subject => (\n                  <option key={subject.id} value={subject.id}>\n                    {subject.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Level Filter */}\n            <div>\n              <select\n                value={selectedLevel}\n                onChange={(e) => setSelectedLevel(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                {levels.map(level => (\n                  <option key={level.id} value={level.id}>\n                    {level.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Books Grid */}\n        {filteredBooks.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <BookOpenIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No books found</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Try adjusting your search or filter criteria.\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {filteredBooks.map((book) => (\n              <div\n                key={book.id}\n                className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-200\"\n              >\n                {/* Book Cover */}\n                <div className=\"aspect-w-3 aspect-h-4 bg-gray-200\">\n                  <img\n                    src={book.cover_image}\n                    alt={book.title}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n\n                {/* Book Info */}\n                <div className=\"p-4\">\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex items-center space-x-2\">\n                      {getSubjectIcon(book.subject)}\n                      <span className=\"text-xs font-medium text-gray-500 uppercase\">\n                        {book.subject.replace('_', ' ')}\n                      </span>\n                    </div>\n                    {getLevelBadge(book.level)}\n                  </div>\n\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1 line-clamp-2\">\n                    {book.title}\n                  </h3>\n                  \n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    by {book.author}\n                  </p>\n                  \n                  <p className=\"text-sm text-gray-500 mb-3 line-clamp-2\">\n                    {book.description}\n                  </p>\n\n                  {/* Stats */}\n                  <div className=\"flex items-center justify-between text-sm text-gray-500 mb-4\">\n                    <span>{book.chapters_count} chapters</span>\n                    <div className=\"flex items-center space-x-1\">\n                      <span>â˜…</span>\n                      <span>{book.rating}</span>\n                    </div>\n                  </div>\n\n                  {/* Action Button */}\n                  <Link\n                    to={`/app/library/${book.id}`}\n                    className=\"w-full bg-indigo-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors duration-200 text-center block\"\n                  >\n                    View Book\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default LibraryPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}